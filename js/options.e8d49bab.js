(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,g=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&g.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(g.length)g.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,n=1;n<i.length;n++){var l=i[n];0!==a[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},a={options:0},r=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([1,"chunk-vendors"]),i()})({"012f":function(t,e,i){},1:function(t,e,i){t.exports=i("c51e")},"14e7":function(t,e,i){},"189b":function(t,e,i){"use strict";i("9c5e")},"269c":function(t,e,i){"use strict";i("353f")},2919:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}));const s="https://api-userv2.leadbet.com.br";let a=chrome.runtime.getManifest();const r=a.version||"0.0.0"},3244:function(t,e,i){},"353f":function(t,e,i){},"3af2":function(t,e,i){},"3c99":function(t,e,i){"use strict";i("012f")},"5a0f":function(t,e,i){"use strict";i("9685")},"64d8":function(t,e,i){"use strict";i("3244")},"67ab":function(t,e,i){},"691a":function(t,e,i){},8304:function(t,e,i){},9594:function(t,e,i){},9685:function(t,e,i){},"9c5e":function(t,e,i){},a9f7:function(t,e,i){"use strict";i("9594")},ab73:function(t,e,i){"use strict";i("3af2")},ba68:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"g",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return o})),i.d(e,"b",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"c",(function(){return u}));var s=i("fa7d");const a=async t=>{const e=await l(t);return Object.keys(e).forEach(t=>{e[t]=JSON.parse(e[t])}),e.scripts&&n(e.scripts),e};function r(t,e){return new Promise((i,s)=>{chrome.storage.local.set({[t]:e},()=>{chrome.runtime.lastError?s(chrome.runtime.lastError):i(!0)})})}function o(t){return new Promise((e,i)=>{chrome.storage.local.remove(t,()=>{chrome.runtime.lastError?i(chrome.runtime.lastError):e(!0)})})}const n=async t=>{let e=!1;return t.forEach(t=>{t.id||(e=!0,t.id=Object(s["b"])()),t.type||(e=!0,t.type="script")}),e&&chrome.storage.local.set({scripts:JSON.stringify(t)}),t},l=async t=>new Promise((e,i)=>{chrome.storage.local.get(t,(function(t){e(t)}))});async function c(t){return new Promise((e,i)=>{null!=t?chrome.storage.local.get([t],(function(t){e(t)})):i(null)})}async function d(t){const e=["token","userData"];return new Promise((i,s)=>{null!=t?chrome.storage.local.get(e,(function(t){i(t)})):s(null)})}async function u(t){const e=await a("messageList"),i=e.messageList;return i.find(e=>e.id===t)}},bfdf:function(t,e,i){"use strict";i("14e7")},c51e:function(t,e,i){"use strict";i.r(e);var s=i("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app",translate:"no"}},[t.contentDisplay?e("div",{attrs:{id:"nav-config"}},[e("Header",{attrs:{userData:t.userData,version:t.versao}}),e("b-tabs",{staticClass:"tab-content-general",attrs:{"content-class":"mt-3",justified:""},on:{input:t.tabChanged},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[e("b-tab",{staticClass:"tabs-select",attrs:{title:"MENSAGENS"}},[e("div",{staticClass:"config-content"},[e("div",{staticClass:"config-display"},[e("AddMessage",{on:{"update-message-list":function(e){return t.updateMessageList(e)}}}),e("div",{staticClass:"tab-message-list"},[e("div",{staticClass:"tab-add-message-lista"},[e("h2",[t._v("Lista de Mensagens")])]),e("div",{staticClass:"tab-add-filters-filter"},[e("b-button-group",{staticClass:"rounded-btn-group"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtn:t.isAllFilterList},attrs:{variant:"secondary",title:"Todas as Mensagens"},on:{click:function(e){return t.changeFilter("all")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:"img/all-ico.svg",fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isAudioFilterList},attrs:{variant:"secondary",title:"Áudios"},on:{click:function(e){return t.changeFilter("audio")}}},[e("b-img",{staticStyle:{height:"14px","margin-top":"-1px"},attrs:{src:t.getIcon("Áudio"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isTextFilterList},attrs:{variant:"secondary",title:"Mensagens de Texto"},on:{click:function(e){return t.changeFilter("msg")}}},[e("b-img",{staticStyle:{height:"13px"},attrs:{src:t.getIcon("Texto"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isDataFilterList},attrs:{variant:"secondary",title:"Fotos e Vídeos"},on:{click:function(e){return t.changeFilter("file")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Fotos e Vídeos"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isDocFilterList},attrs:{variant:"secondary",title:"Arquivos"},on:{click:function(e){return t.changeFilter("doc")}}},[e("b-img",{staticStyle:{height:"13px","margin-top":"-2px"},attrs:{src:t.getIcon("Arquivos"),fluid:""}})],1)],1)],1),e("div",{staticClass:"popup-tags"},[e("b-form-select",{staticClass:"tag-options",class:{tagStartColor:t.tagStartColorChanged},attrs:{options:t.options},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{selected:"",disabled:""}},[t._v(" Escolha um Tag para Filtrar... ")])]},proxy:!0}],null,!1,2289873695),model:{value:t.activeFilterTag,callback:function(e){t.activeFilterTag=e},expression:"activeFilterTag"}}),t.filterTagActive&&t.activeFilterTag.length>0?e("b-button",{staticClass:"reset-tag-button",attrs:{size:"sm"},on:{click:function(e){t.filterTagActive=!1,t.clearTagFilter()}}},[t._v(" Limpar Tag ")]):e("div",{staticClass:"tag-filter-title"},[e("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Filtrar por Tag ")],1)],1),e("div",{staticClass:"script-list-results"},["Todos"===t.selectedFilter?e("div",{staticClass:"mt-4"},[t.messageList.length?t._e():e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu Mensagens ")]),e("draggable",{attrs:{group:"messageList",handle:".handle"},on:{start:function(e){t.drag=!0},end:t.onEnd},model:{value:t.messageList,callback:function(e){t.messageList=e},expression:"messageList"}},[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.messageList,(function(i,s){return e("div",{key:s,staticClass:"mb-2",attrs:{id:"msgSort"}},[e("EachMessageList",{attrs:{eachMessage:i,i:s,hideControls:!1},on:{"edit-message":function(e){return t.editMessage(e)},"delete-message":function(e){return t.deleteMessage(e)}}})],1)})),0)],1)],1):t._e(),"Áudio"===t.selectedFilter?e("div",[e("div",{staticClass:"script-header"},[e("div",[t._v("Áudio")])]),t.audioData.length?t._e():e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu seus Áudios ")]),t._l(t.audioData,(function(i,s){return e("div",{key:s,staticClass:"mb-2",attrs:{id:"audioSort"}},[e("EachMessageList",{attrs:{eachMessage:i,i:s,hideControls:!0},on:{"edit-message":function(e){return t.editMessage(e)},"delete-message":function(e){return t.deleteMessage(e)}}})],1)}))],2):t._e(),"Texto"===t.selectedFilter?e("div",[e("div",{staticClass:"script-header"},[e("div",[t._v("Texto")])]),t.textData.length?t._e():e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu suas Mensagens em Texto ")]),t._l(t.textData,(function(i,s){return e("div",{key:s+2,staticClass:"mb-2",attrs:{id:"textSort"}},[e("EachMessageList",{attrs:{eachMessage:i,i:s,hideControls:!0},on:{"edit-message":function(e){return t.editMessage(e)},"delete-message":function(e){return t.deleteMessage(e)}}})],1)}))],2):t._e(),"Fotos e Vídeos"===t.selectedFilter?e("div",[e("div",{staticClass:"script-header"},[e("div",[t._v("Fotos e Vídeos")])]),t.fileData.length?t._e():e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu suas Fotos e Vídeos ")]),t._l(t.fileData,(function(i,s){return e("div",{key:s+1,staticClass:"mb-2",attrs:{id:"dataSort"}},[e("EachMessageList",{attrs:{eachMessage:i,i:s,hideControls:!0},on:{"edit-message":function(e){return t.editMessage(e)},"delete-message":function(e){return t.deleteMessage(e)}}})],1)}))],2):t._e(),"Arquivos"===t.selectedFilter?e("div",[e("div",{staticClass:"script-header"},[e("div",[t._v("Arquivos")])]),t.docData.length?t._e():e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu arquivos ")]),t._l(t.docData,(function(i,s){return e("div",{key:s+1,staticClass:"mb-2",attrs:{id:"dataSort"}},[e("EachMessageList",{attrs:{eachMessage:i,i:s,hideControls:!0},on:{"edit-message":function(e){return t.editMessage(e)},"delete-message":function(e){return t.deleteMessage(e)}}})],1)}))],2):t._e()])])],1)])]),e("b-tab",{attrs:{disabled:0==t.messageList.length},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{style:0==t.messageList.length?"text-decoration: line-through":""},[t._v("SCRIPTS")])]},proxy:!0}],null,!1,2996924706)},[e("div",{staticClass:"config-content tabs-scripts",staticStyle:{"margin-bottom":"100px !important"}},[e("div",{staticClass:"config-display"},[e("AddScript",{ref:"scriptAddRef",attrs:{messageLis:t.messageList,textData:t.textData,audioData:t.audioData,fileData:t.fileData,docData:t.docData,labels:t.labels},on:{"update-script-list":function(e){return t.loadDataStorage()},"change-editing-state":function(e){t.isEditingScript=e}}}),t.scriptList&&t.scriptList.length>0&&!t.isEditingScript?e("div",{staticClass:"tab-message-list"},[e("div",{staticClass:"tab-add-message-lista"},[e("h2",[t._v("Lista de Scripts")])]),e("div",{staticClass:"script-list-results"},[e("draggable",{attrs:{group:"scriptData",handle:".handle"},on:{start:function(e){t.drag=!0},end:t.onEnd},model:{value:t.scriptList,callback:function(e){t.scriptList=e},expression:"scriptList"}},[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.scriptList,(function(i,s){return e("div",{key:s+2,staticClass:"mb-2",attrs:{id:"scriptSort"}},[e("EachScriptList",{attrs:{eachScript:i,i:s,hideControls:!1},on:{"edit-script":function(e){return t.callEditScript(e,s)},"delete-script":function(e){return t.deleteScriptStore(e)}}})],1)})),0)],1)],1)]):t._e()],1),e("div",{staticClass:"footer-config"})])]),e("b-tab",{attrs:{disabled:0==t.scriptList.length},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticStyle:{position:"relative"}},[e("span",{style:0==t.scriptList.length?"text-decoration: line-through":""},[t._v("GATILHOS")]),e("span",{staticStyle:{"font-size":"7px",position:"absolute",top:"-2px",background:"#0d1419",color:"#c2c2c2",padding:"1px 2px 0px","border-radius":"4px"}},[t._v("BETA")])])]},proxy:!0}],null,!1,1427972087)},[e("div",{staticClass:"config-content tabs-scripts",staticStyle:{"margin-bottom":"100px !important"}},[e("div",{staticClass:"config-display"},[e("tabTriggers",{ref:"triggerAddRef"})],1)])])],1)],1):t._e(),e("b-modal",{attrs:{id:"confirm-delete-script",title:"Confirmação"},on:{ok:function(e){return t.deleteScriptStore()}}},[e("p",{staticClass:"my-4"},[t._v("Deseja Realmente Deletar o Script")])]),e("ModalSettings",{attrs:{userData:t.userData,expiresDateDisplay:t.expiresDate,options:t.options,tokenError:t.tokenError,tempToken:t.tempToken,messageList:t.messageList,scriptList:t.scriptList},on:{"update-message-list":function(e){return t.updateMessageList(e)}}}),e("b-modal",{attrs:{id:"message-editor",title:"Editar Messagens","ok-title":"Salvar","cancel-title":"Cancelar","no-close-on-backdrop":"","dialog-class":"lz-edit-modal-content","header-class":"lz-edit-modal-header","body-class":"lz-edit-modal-body","footer-class":"lz-edit-footer-class"},on:{ok:function(e){return t.saveEditMessage()}}},[e("h2",{staticClass:"tab-add-message-header"}),[e("div",{staticClass:"tab-content-add-area-header"},[t._v(" Editar "+t._s(t.messageToEdit.type)+" ")]),e("div",{staticClass:"title-message-editor"},[e("p",{staticClass:"message-edit-modal-title"},[t._v("Edite o Título da Mensagem")]),e("b-form-input",{attrs:{size:"sm",placeholder:"Digite o Título da Mensagem"},model:{value:t.messageToEdit.title,callback:function(e){t.$set(t.messageToEdit,"title",e)},expression:"messageToEdit.title"}})],1),"Texto"==this.messageToEdit.type?e("div",{staticClass:"text-message-insert"},[e("p",{staticClass:"message-edit-modal-title"},[t._v("Edite a Mensagem Abaixo")]),e("b-form-textarea",{attrs:{size:"sm",placeholder:"Digite a Mensagem"},model:{value:t.messageToEdit.text,callback:function(e){t.$set(t.messageToEdit,"text",e)},expression:"messageToEdit.text"}})],1):t._e(),"Áudio"==this.messageToEdit.type?e("div",{staticClass:"text-message-insert"},[e("p",{staticClass:"message-edit-modal-title"},[t._v("Áudio")]),e("audio",{staticClass:"audio-player",attrs:{src:t.urlBlob,controls:""}})]):t._e(),"Áudio"==this.messageToEdit.type?e("div",[e("div",{staticClass:"edit-audio-fowarded-model",staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center","margin-top":"15px"}},[e("b-form-radio",{attrs:{name:"some-radios",value:!1,size:"sm"},model:{value:t.messageToEdit.fowardedMode,callback:function(e){t.$set(t.messageToEdit,"fowardedMode",e)},expression:"messageToEdit.fowardedMode"}},[t._v("Enviar como gravado na hora")]),e("b-form-radio",{attrs:{name:"some-radios",value:!0,size:"sm"},model:{value:t.messageToEdit.fowardedMode,callback:function(e){t.$set(t.messageToEdit,"fowardedMode",e)},expression:"messageToEdit.fowardedMode"}},[t._v("Enviar como encaminhado")])],1)]):t._e(),"Fotos e Vídeos"==this.messageToEdit.type?e("div",{staticClass:"text-message-insert img-preview-editar"},[e("p",{staticClass:"message-edit-modal-title"},[t._v("Fotos e Vídeos")]),"image"==this.messageToEdit.typeDisplay?e("b-img",{attrs:{src:t.urlBlogImg,fluid:"",alt:"Responsive image"}}):t._e(),"video"==this.messageToEdit.typeDisplay?e("div",[e("video",{attrs:{width:"320",height:"auto",controls:""}},[e("source",{attrs:{src:t.urlBlogImg,type:"video/mp4"}}),e("source",{attrs:{src:t.urlBlogImg,type:"video/ogg"}})])]):t._e()],1):t._e(),"Fotos e Vídeos"==this.messageToEdit.type?e("div",[e("div",{staticClass:"mt-2",staticStyle:{"font-size":"10px"}},["image"==this.messageToEdit.typeDisplay?e("p",{staticClass:"message-edit-modal-title"},[t._v(" Edite a Legenda da Foto (opcional) ")]):t._e(),e("b-form-textarea",{attrs:{size:"sm",placeholder:"Digite a Legenda da Foto ou Vídeo (opcional)"},model:{value:t.messageToEdit.caption,callback:function(e){t.$set(t.messageToEdit,"caption",e)},expression:"messageToEdit.caption"}})],1)]):t._e(),e("div",{staticClass:"tag-editor-modal editor-mensagens-tags mt-3"},[e("p",{staticClass:"message-edit-modal-title"},[t._v(" Insira uma nova tag ou apague as atuais ")]),e("b-form-group",{attrs:{label:"","label-for":"tags-component-select"}},[e("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(t._s(i))])],1)})),0):t._e(),e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableTagsEdit.length,options:t.availableTagsEdit},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v(" Escolha a tags da mensagem ... ")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a))]}}]),model:{value:t.messageToEdit.tags,callback:function(e){t.$set(t.messageToEdit,"tags",e)},expression:"messageToEdit.tags"}})],1)],1)]],2),e("ActivationPopupPopup",{attrs:{"token-error":t.tokenError}}),e("b-modal",{attrs:{"hide-footer":"",id:"aviso-quantidade-mensagem",title:"Alerta - Mensagem Longa"}},[e("p",{staticClass:"mt-2"},[t._v("Caro assinante,")]),e("p",{},[t._v(" Apesar do Leadbet não ter qualquer limite de envio ou contatos, nós recomendamos que o "),e("b",[t._v(" script não tenha mais de 25 mensagens")]),t._v(" e "),e("b",[t._v("nem seja muito demorado")]),t._v(". ")]),e("p",[t._v(" Em relação ao tempo entre cada mensagem (delay) evite colocar a duração completa do áudio pois seu cliente pode ouvir na velocidade 2 vezes. ")]),e("p",[t._v(" Ao terminar de ouvir, o cliente irá começar a te responder e seu script vai sair do roteiro ou pior o cliente simplesmente pode sair do WhatsApp pois as outras mensagens ainda não chegaram. ")]),e("p",[t._v(" Nossa dica é: se o áudio tem 2 minutos (120 segundos) coloque um delay de 1 min (60 segundos), ou menos, pois assim que a pessoa terminar de ouvir em 2X já vai chegar a próxima mensagem. ")])])],1)},r=[],o=(i("14d9"),i("bc3a")),n=i.n(o),l=i("b76a"),c=i.n(l),d=i("2919"),u=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center"}},[e("div",{staticClass:"config-header"},[e("div",{staticClass:"logo"},[t.userData.isBusiness?e("b-img",{staticClass:"logo-img",attrs:{id:"logo-options",src:"img/logo-leadbet-empresas.svg",fluid:""}}):e("b-img",{staticClass:"logo-img",attrs:{id:"logo-options",src:"img/logo-grey-ponto.svg",fluid:""}})],1),e("div",{staticClass:"header-config-stats"},[e("div",{staticClass:"config-button"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.tag-editor",modifiers:{"tag-editor":!0}}],attrs:{title:"Abrir Configurações"}},[e("b-img",{staticStyle:{height:"21px"},attrs:{src:"img/bars.svg",fluid:""}})],1)]),e("div",{staticClass:"config-button"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.backup-popup",modifiers:{"backup-popup":!0}}],attrs:{title:"Central de Backups"}},[e("b-img",{staticStyle:{height:"21px"},attrs:{src:"img/backup.svg",fluid:""}})],1)])])])])},g=[],p=(i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("669d"),i("109c"),i("b2c1"),i("b7ef"),i("ba68"));const h={data:function(){return{}},methods:{sleep(t){return new Promise(e=>setTimeout(e,t))},async loadDataStorage(){let t=await Object(p["a"])(["messageList","tagList","scripts","labels","selectedTab"]);if(t.messageList?(this.messageList=t.messageList,this.messageListFilterBackUp=this.messageList):(this.messageList=[],this.messageListFilterBackUp=this.messageList),this.selectedTab=t.selectedTab,this.textData=[],this.audioData=[],this.fileData=[],this.docData=[],this.messageList.forEach(t=>{"Texto"==t.type&&this.textData.push(t),"Áudio"==t.type&&this.audioData.push(t),"Fotos e Vídeos"==t.type&&this.fileData.push(t),"Arquivos"==t.type&&this.docData.push(t)}),this.textDataFilterBackUp=this.textData,this.audioDataFilterBackUp=this.audioData,this.fileDataFilterBackUp=this.fileData,this.docDataFilterBackUp=this.docData,t.tagList&&(this.options=t.tagList),t.scripts&&(this.scriptList=t.scripts),t.labels){this.labels=[];let e=t.labels;e.labelArray.forEach(t=>{this.labels.push(t.name)})}this.tagListTemp=this.options},async loadDataIdStorage(t,e=!1){let i=await this.getIdFromStorage(t);if(this.loadDataId=JSON.parse(i[t]),e)return JSON.parse(i[t])},async getIdFromStorage(t){return new Promise((e,i)=>{null!=t?chrome.storage.local.get([t],(function(t){e(t)})):i(null)})},makeToast(t,e){"ok"==t?this.$toasted.show(`✓ ${e}!!!`,{theme:"toasted-primary",position:"top-right",duration:1500,type:"success"}):this.$toasted.show(`✖ ${e}!!!`,{theme:"toasted-primary",position:"top-right",duration:1500,type:"error"})},async getFileInBASE(t){const e=await this.convertToBase64(t);return e},async getBase64inFile(t){const e=await this.convertBaseToFile(t);return e},convertToBase64(t){return new Promise((e,i)=>{const s=new FileReader;s.onload=function(){const t=s.result;return e(t)},s.onerror=function(t){return i(t)},s.readAsDataURL(t)})},convertBaseToFile(t,e="audio"){let[i,s]=t.split(","),a=i.match(/:(.*?);/)[1],r=window.Base64?window.Base64.atob(s):atob(s);var o=r.length,n=new Uint8Array(o);while(o--)n[o]=r.charCodeAt(o);let l=new File([n],e,{type:a});return l},convertToDay(t){const e=new Date(t);let i=e.getFullYear().toString(),s=(e.getMonth()+1).toString(),a=e.getDate().toString();return 1==s.length&&(s=0+s),1==a.length&&(a=0+a),a+"/"+s+"/"+i},async getMetadata(t){return new Promise((e,i)=>{null!=t?t.addEventListener("loadedmetadata",async t=>{e(t.path[0].duration)}):i(null)})},onChange(){this.filelist=[...this.$refs.audio_input.files],this.arquivoUpload=this.filelist[0]},remove(t){this.filelist.splice(t,1),this.arquivoUpload=null},dragover(t){t.preventDefault(),t.currentTarget.classList.contains("bg-green-300")||(t.currentTarget.classList.remove("bg-gray-100"),t.currentTarget.classList.add("bg-green-300"))},dragleave(t){t.currentTarget.classList.add("bg-gray-100"),t.currentTarget.classList.remove("bg-green-300")},drop(t){t.preventDefault(),this.$refs.audio_input.files=t.dataTransfer.files,this.onChange(),t.currentTarget.classList.add("bg-gray-100"),t.currentTarget.classList.remove("bg-green-300")},onEnd(t){"msgSort"===t.item.id?(chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),this.messageListFilterBackUp=this.messageList):"audioSort"===t.item.id?chrome.storage.local.set({audio:JSON.stringify(this.audioData)},(function(){})):"textSort"===t.item.id?chrome.storage.local.set({text:JSON.stringify(this.textData)},(function(){})):"dataSort"===t.item.id?chrome.storage.local.set({files:JSON.stringify(this.fileData)},(function(){})):"scriptSort"===t.item.id?chrome.storage.local.set({scripts:JSON.stringify(this.scriptList)},(function(){})):"triggerSort"===t.item.id&&chrome.storage.local.set({triggerList:JSON.stringify(this.triggerList)},(function(){})),this.drag=!0},getIcon(t){return"Texto"==t?"img/chat-icon.svg":"Áudio"==t?"img/mic-icon.svg":"Fotos e Vídeos"==t?"img/camera-icon.svg":"Arquivos"==t?"img/file-icon.svg":"script"==t?"img/script-icon.svg":"trigger"==t?"img/trigger-icon.svg":void 0},scroll(t){document.getElementById(t).scrollIntoView({behavior:"smooth"})}}};var m={name:"Header",mixins:[h],props:["version","userData"],data:function(){return{}},mounted(){},methods:{backupShortCut(){this.$refs.customModalText.downloadData()}}},v=m,f=(i("d9bc"),i("2877")),b=Object(f["a"])(v,u,g,!1,null,null,null),C=b.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-add-message"},[e("h2",{staticClass:"tab-add-message-header"},[t._v(" Escolha o Tipo de Mensagem para Adicionar ")]),e("div",{staticClass:"tab-add-filters"},[e("div",{staticClass:"tab-add-filters-filter"},[e("b-button-group",{staticClass:"rounded-btn-group"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtn:t.isAudioFilter},attrs:{variant:"secondary",title:"Adicionar Áudio"},on:{click:function(e){return t.changeAddFilter("audio")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Áudio"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtn:t.isTextFilter},attrs:{variant:"secondary",title:"Adicionar Texto"},on:{click:function(e){return t.changeAddFilter("msg")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Texto"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtn:t.isDataFilter},attrs:{variant:"secondary",title:"Adicionar Foto ou Vídeo"},on:{click:function(e){return t.changeAddFilter("file")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Fotos e Vídeos"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtn:t.isDocFilter},attrs:{variant:"secondary",title:"Adicionar Arquivo"},on:{click:function(e){return t.changeAddFilter("doc")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Arquivos"),fluid:""}})],1)],1)],1)]),e("div",{staticClass:"tab-content-add-area"},["Áudio"===t.selectedAddFilter?e("div",{staticClass:"tab-content-add-area-item"},[e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("NOME")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Áudio"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do áudio..."},model:{value:t.mensagem.title,callback:function(e){t.$set(t.mensagem,"title",e)},expression:"mensagem.title"}})],1)],1)]),e("div",{staticClass:"upload-audio"},[e("div",{staticClass:"text-content"},[t._v("ÁUDIO")]),e("div",{staticClass:"drag-and-drop"},[e("div",{staticClass:"drag-and-drop-square",on:{dragover:t.dragover,dragleave:t.dragleave,drop:t.drop}},[e("input",{ref:"audio_input",staticClass:"input-file-drag",attrs:{type:"file",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",accept:"audio/mpeg,audio/ogg,video/mpeg"},on:{change:t.onChange}}),t._m(0),this.filelist.length?e("div",{staticClass:"drag-drop-file-list"},[t._v(" "+t._s(this.filelist[0].name)+" "),e("button",{staticClass:"drag-remove-file",attrs:{type:"button",title:"Apagar Áudio"},on:{click:function(e){t.remove(t.filelist.indexOf(t.file))}}},[t._v(" Remover ")])]):t._e()])])]),this.filelist.length?e("div",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center"}},[e("label",{staticClass:"radio-container",staticStyle:{"margin-right":"20px"},on:{click:function(e){t.fowardedMode=!1}}},[t._v(" Enviar como gravado na hora "),t.fowardedMode?t._e():e("input",{attrs:{type:"radio",checked:"checked",name:"radio"}}),e("span",{staticClass:"checkmark"})]),e("label",{staticClass:"radio-container",on:{click:function(e){t.fowardedMode=!0}}},[t._v(" Enviar como encaminhado "),t.fowardedMode?e("input",{attrs:{type:"radio",checked:"checked",name:"radio"}}):t._e(),e("span",{staticClass:"checkmark"})])]):t._e(),e("div",{staticClass:"tags-add",staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticClass:"text-content"},[t._v("TAGS")]),e("div",{staticClass:"input-content"},[e("b-form-group",[e("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(t._s(i))])],1)})),0):t._e(),e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v(" Insira as Tags do Áudio [Opcional] (Ex.: Produto 1, Saudações, Venda Direta, etc) ... ")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a))]}}],null,!1,3562050519),model:{value:t.tagMsg,callback:function(e){t.tagMsg=e},expression:"tagMsg"}})],1)],1)]),e("div",{staticClass:"save-message-button"},[e("b-button",{staticClass:"save-message-button-cancel mb-2",attrs:{size:"sm"},on:{click:function(e){return t.closeAddMessage("Áudio")}}},[t._v(" Cancelar ")]),t.savingData?t._e():e("b-button",{staticClass:"save-message-button-save mb-2",attrs:{size:"sm"},on:{click:function(e){return t.saveMessage("Áudio")}}},[t._v(" Salvar Áudio ")]),t.savingData?e("b-button",{staticClass:"save-message-button-save mb-2",staticStyle:{background:"#a7a7a7 !important",width:"130px"},attrs:{size:"sm"}},[t._v(" Salvando... ")]):t._e()],1)]):t._e(),"Texto"===t.selectedAddFilter?e("div",{staticClass:"tab-content-add-area-item"},[e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("NOME")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Texto"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome da mensagem..."},model:{value:t.mensagem.title,callback:function(e){t.$set(t.mensagem,"title",e)},expression:"mensagem.title"}})],1)],1)]),e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("TEXTO")]),e("div",{staticClass:"input-content"},[e("div",{staticClass:"text-message-insert"},[e("b-form-textarea",{staticStyle:{"border-radius":"12px !important","margin-top":"30px","margin-bottom":"20px"},attrs:{size:"sm",placeholder:"Digite aqui a mensagem de texto... 😉"},model:{value:t.mensagem.text,callback:function(e){t.$set(t.mensagem,"text",e)},expression:"mensagem.text"}})],1)])]),e("div",{staticClass:"tags-add",staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticClass:"text-content"},[t._v("TAGS")]),e("div",{staticClass:"input-content"},[e("b-form-group",[e("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(t._s(i))])],1)})),0):t._e(),e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v(" Insira as Tags do Áudio [Opcional] (Ex.: Produto 1, Saudações, Venda Direta, etc) ... ")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a))]}}],null,!1,3562050519),model:{value:t.tagMsg,callback:function(e){t.tagMsg=e},expression:"tagMsg"}})],1)],1)]),e("div",{staticClass:"save-message-button"},[e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){return t.closeAddMessage("Texto")}}},[t._v(" Cancelar ")]),e("b-button",{staticClass:"save-message-button-save",attrs:{size:"sm"},on:{click:function(e){return t.saveMessage("Texto")}}},[t._v(" Salvar Mensagem ")])],1)]):t._e(),"Fotos e Vídeos"===t.selectedAddFilter?e("div",{staticClass:"tab-content-add-area-item"},[e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("NOME")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Fotos e Vídeos"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do arquivo de mídia..."},model:{value:t.mensagem.title,callback:function(e){t.$set(t.mensagem,"title",e)},expression:"mensagem.title"}})],1)],1)]),e("div",{staticClass:"upload-audio"},[e("div",{staticClass:"text-content"},[t._v("MÍDIA")]),e("div",{staticClass:"drag-and-drop"},[e("div",{staticClass:"drag-and-drop-square",on:{dragover:t.dragover,dragleave:t.dragleave,drop:t.drop}},[e("input",{ref:"audio_input",staticClass:"input-file-drag",attrs:{type:"file",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",accept:"image/*,video/mp4"},on:{change:t.onChange}}),t._m(1),this.filelist.length?e("div",{staticClass:"drag-drop-file-list"},[t._v(" "+t._s(this.filelist[0].name)+" "),e("button",{staticClass:"drag-remove-file",attrs:{type:"button",title:"Apagar Áudio"},on:{click:function(e){t.remove(t.filelist.indexOf(t.file))}}},[t._v(" Remover ")])]):t._e()])])]),e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("LEGENDA")]),e("div",{staticClass:"input-content"},[e("div",{staticClass:"text-message-insert"},[e("b-form-textarea",{attrs:{size:"sm",placeholder:"digite a legenda da foto ou vídeo (opcional) aqui..."},model:{value:t.mensagem.caption,callback:function(e){t.$set(t.mensagem,"caption",e)},expression:"mensagem.caption"}})],1)])]),e("div",{staticClass:"tags-add",staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticClass:"text-content"},[t._v("TAGS")]),e("div",{staticClass:"input-content"},[e("b-form-group",[e("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(t._s(i))])],1)})),0):t._e(),e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v(" Insira as Tags do Áudio [Opcional] (Ex.: Produto 1, Saudações, Venda Direta, etc) ... ")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a))]}}],null,!1,3562050519),model:{value:t.tagMsg,callback:function(e){t.tagMsg=e},expression:"tagMsg"}})],1)],1)]),e("div",{staticClass:"save-message-button"},[e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){return t.closeAddMessage("Fotos e Vídeos")}}},[t._v(" Cancelar ")]),e("b-button",{staticClass:"save-message-button-save",attrs:{size:"sm"},on:{click:function(e){return t.saveMessage("Fotos e Vídeos")}}},[t._v(" Salvar Mídia ")])],1)]):t._e(),"Arquivos"===t.selectedAddFilter?e("div",{staticClass:"tab-content-add-area-item"},[e("div",{staticClass:"title-message-insert"},[e("div",{staticClass:"text-content"},[t._v("NOME")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Arquivos"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do arquivo..."},model:{value:t.mensagem.title,callback:function(e){t.$set(t.mensagem,"title",e)},expression:"mensagem.title"}})],1)],1)]),e("div",{staticClass:"upload-audio"},[e("div",{staticClass:"text-content"},[t._v("ARQUIVO")]),e("div",{staticClass:"drag-and-drop"},[e("div",{staticClass:"drag-and-drop-square",on:{dragover:t.dragover,dragleave:t.dragleave,drop:t.drop}},[e("input",{ref:"audio_input",staticClass:"input-file-drag",attrs:{type:"file",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle"},on:{change:t.onChange}}),t._m(2),this.filelist.length?e("div",{staticClass:"drag-drop-file-list"},[t._v(" "+t._s(this.filelist[0].name)+" "),e("button",{staticClass:"drag-remove-file",attrs:{type:"button",title:"Apagar Arquivo"},on:{click:function(e){t.remove(t.filelist.indexOf(t.file))}}},[t._v(" Remover ")])]):t._e()])])]),e("div",{staticClass:"tags-add",staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticClass:"text-content"},[t._v("TAGS")]),e("div",{staticClass:"input-content"},[e("b-form-group",[e("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(t._s(i))])],1)})),0):t._e(),e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v(" Insira as Tags do Áudio [Opcional] (Ex.: Produto 1, Saudações, Venda Direta, etc) ... ")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a))]}}],null,!1,3562050519),model:{value:t.tagMsg,callback:function(e){t.tagMsg=e},expression:"tagMsg"}})],1)],1)]),e("div",{staticClass:"save-message-button"},[e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){return t.closeAddMessage("Arquivos")}}},[t._v(" Cancelar ")]),e("b-button",{staticClass:"save-message-button-save",attrs:{size:"sm"},on:{click:function(e){return t.saveMessage("Arquivos")}}},[t._v(" Salvar Arquivo ")])],1)]):t._e()])])},y=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"label-drag block cursor-pointer",attrs:{for:"assetsFieldHandle"}},[e("div",[t._v(" Arraste o Áudio ou "),e("span",{staticStyle:{"text-decoration":"underline"}},[t._v("CLIQUE AQUI")]),t._v(" para escolher o áudio que você irá usar. ")]),e("div",{staticClass:"audio-mensagem-formatos"},[t._v("Formatos: .mp3, .ogg")]),e("div",{staticClass:"audio-mensagem-formatos-aviso",staticStyle:{"margin-top":"10px"}},[t._v(" * áudios gravados fora do WhatsApp devem ser convertidos antes para o padrão do WhatsApp. ")]),e("div",{staticClass:"audio-mensagem-formatos-aviso",staticStyle:{"margin-top":"1px"}},[e("a",{attrs:{href:"https://leadbet.com.br/converter-audio",target:"_blank"}},[t._v("Clique Aqui Para Aprender a Converter Áudios Gravados Fora do WhatsApp")])])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"label-drag block cursor-pointer",attrs:{for:"assetsFieldHandle"}},[e("div",[t._v(" Arraste a Foto ou Vídeo ou "),e("span",{staticStyle:{"text-decoration":"underline"}},[t._v("clique aqui")]),t._v(" para escolher a Foto ou Vídeo que você irá usar. O vídeo deve ter menor que 64MB!! ")]),e("div",{staticClass:"audio-mensagem-formatos"},[t._v(" Formatos: .png, .jpg, .jpeg, .svg, .gif, .ico, .webp, .bmp, .m4v, .mp4 ")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"label-drag block cursor-pointer",attrs:{for:"assetsFieldHandle"}},[e("div",[t._v(" Arraste o Arquivo ou "),e("span",{staticStyle:{"text-decoration":"underline"}},[t._v("clique aqui")]),t._v(" para escolher o Arquivo que você irá usar. ")]),e("div",{staticClass:"audio-mensagem-formatos"},[t._v(" Formatos: .pdf, .doc, .docx, .ppt, .pptx, .rtf, .txt, .xls, .xlsx, .csv, .zip, .rar, áudio (enviado como arquivo) ")])])}];i("88a7"),i("271a"),i("5494");const x={methods:{closeAddMessage(t){"Áudio"!==t&&"Fotos e Vídeos"!==t||this.remove(0),this.arquivoUpload=null,this.mensagem.title=null,this.mensagem.text=null,this.tagMsg=null,this.savingData=!1,this.makeToast("","Cancelado")},loadAudio(t,e){let i=t,s=this.convertBaseToFile(e,i.title),a=new Blob([s],{type:s.type});this.urlBlob=URL.createObjectURL(a)},loadDataFile(t,e){let i=t,s=this.convertBaseToFile(e,i.title),a=new Blob([s],{type:s.type});this.urlBlogImg=URL.createObjectURL(a)},async editMessage(t){let e=t.type;await this.loadDataIdStorage(t.id),this.$bvModal.show("message-editor"),this.messageToEdit.title=t.title,this.messageToEdit.tags=t.tags,this.messageToEdit.type=e,this.messageToEdit.id=t.id,this.messageToEdit.format=t.format,this.messageToEdit.typeDisplay=t.fileType,t.size?this.messageToEdit.size=t.size:this.messageToEdit.size=null,"Texto"==e&&(this.messageToEdit.text=this.loadDataId),"Áudio"==e&&(this.messageToEdit.audio=this.loadDataId,t.duration?this.messageToEdit.duration=t.duration:this.messageToEdit.duration=null,t.fowardedMode?this.messageToEdit.fowardedMode=t.fowardedMode:this.messageToEdit.fowardedMode=!1,this.loadAudio(t,this.messageToEdit.audio)),"Fotos e Vídeos"==e&&(this.messageToEdit.file=this.loadDataId,this.messageToEdit.caption=t.caption,this.loadDataFile(t,this.messageToEdit.file)),"Arquivos"==e&&(this.messageToEdit.file=this.loadDataId,this.loadDataFile(t,this.messageToEdit.file))},getIndex(t,e){let i=0;for(let s=0;s<t.length;s++)e==t[s].id&&(i=s);return i},async saveEditMessage(){let t=null,e=this.messageToEdit.id,i=null,s=null;const a=await Object(p["a"])(["messageList"]);this.messageList=a.messageList,t=this.getIndex(this.messageList,e),"Texto"==this.messageToEdit.type&&(s={type:this.messageToEdit.type,format:"str",id:this.messageToEdit.id,title:this.messageToEdit.title,tags:this.messageToEdit.tags,fileType:"text",size:this.messageToEdit.size},i=this.messageToEdit.text,chrome.storage.local.set({[e]:JSON.stringify(i)},(function(){}))),"Áudio"==this.messageToEdit.type&&(this.messageToEdit.fowardedMode?this.messageToEdit.fowardedMode=!0:this.messageToEdit.fowardedMode=!1,s={type:this.messageToEdit.type,format:this.messageToEdit.format,id:this.messageToEdit.id,title:this.messageToEdit.title,tags:this.messageToEdit.tags,fileType:this.messageToEdit.typeDisplay,duration:this.messageToEdit.duration,size:this.messageToEdit.size,fowardedMode:this.messageToEdit.fowardedMode}),"Fotos e Vídeos"==this.messageToEdit.type&&(s={type:this.messageToEdit.type,format:this.messageToEdit.format,id:this.messageToEdit.id,title:this.messageToEdit.title,tags:this.messageToEdit.tags,fileType:this.messageToEdit.typeDisplay,size:this.messageToEdit.size,caption:this.messageToEdit.caption}),"Arquivos"==this.messageToEdit.type&&(s={type:this.messageToEdit.type,format:this.messageToEdit.format,id:this.messageToEdit.id,title:this.messageToEdit.title,tags:this.messageToEdit.tags,fileType:this.messageToEdit.typeDisplay,size:this.messageToEdit.size}),this.messageList[t]=s,chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),this.activeFilterTag="",this.tagStartColorChanged=!0,this.makeToast("ok","Salvo"),this.messageToEdit={title:null,text:null,type:null,tags:null,format:null,audio:null,file:null,id:null,caption:null},this.loadDataStorage()},async deleteMessage(t){const e=await Object(p["a"])(["messageList"]);this.messageList=e.messageList;let i,s=this.getIndex(this.messageList,t),a=!1;if(this.scriptList.forEach(t=>{t.scriptData.forEach(e=>{e.id===this.messageList[s].id&&(a=!0,i=t)})}),a)return void window.alert(` A mensagem que você está tentando apagar é em uso no Script => ${i.nameScript} <=, remova-a do script para poder apagar!`);{let t=window.confirm("Deseja Realmente Deletar essa Mensagem?");if(!t)return}this.$bvModal.hide("message-editor");const r=await Object(p["a"])(["messageList"]);this.messageList=r.messageList,s=this.getIndex(this.messageList,t),this.messageList.splice(s,1),chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),chrome.storage.local.remove(t,(function(){})),this.loadDataStorage(),this.activeFilterTag="",this.tagStartColorChanged=!0,this.messageToEdit={title:null,text:null,type:null,tags:null,format:null,audio:null,file:null,id:null,typeDisplay:null,caption:null,fowardedMode:!1},this.loadDataStorage()},async clearTagFilter(){this.activeFilterTag="",this.tagStartColorChanged=!0,this.messageList=this.messageListFilterBackUp,this.textData=this.textDataFilterBackUp,this.audioData=this.audioDataFilterBackUp,this.fileData=this.fileDataFilterBackUp,this.makeToast("ok","Tags Redefinidas")},async tagFilter(){if(""==this.activeFilterTag)return;this.messageList=this.messageListFilterBackUp,this.textData=this.textDataFilterBackUp,this.audioData=this.audioDataFilterBackUp,this.fileData=this.fileDataFilterBackUp;let t=this.messageList,e=[];this.messageList&&t.forEach(t=>{t.tags.forEach(i=>{i==this.activeFilterTag&&e.push(t)})}),this.messageList=e;let i=this.textData,s=[];i.forEach(t=>{t.tags.forEach(e=>{e==this.activeFilterTag&&s.push(t)})}),this.textData=s;let a=this.audioData,r=[];a.forEach(t=>{t.tags.forEach(e=>{e==this.activeFilterTag&&r.push(t)})}),this.audioData=r;let o=this.fileData,n=[];o.forEach(t=>{t.tags.forEach(e=>{e==this.activeFilterTag&&n.push(t)})}),this.fileData=n},changeFilter(t){this.isAllFilterList=!1,this.isTextFilterList=!1,this.isAudioFilterList=!1,this.isDataFilterList=!1,this.isDocFilterList=!1,"all"==t?(this.selectedFilter="Todos",this.isAllFilterList=!0):"msg"==t?(this.selectedFilter="Texto",this.isTextFilterList=!0):"audio"==t?(this.selectedFilter="Áudio",this.isAudioFilterList=!0):"file"==t?(this.selectedFilter="Fotos e Vídeos",this.isDataFilterList=!0):"doc"==t&&(this.selectedFilter="Arquivos",this.isDocFilterList=!0)}}},T={watch:{currentScriptMessage:function(){this.currentScritpEditting||this.calcMessageDelay()}},methods:{editScriptVendas(t,e){this.currentScritpEditting=!0,this.currentScriptType=t.type,this.currentScriptDelaySeconds=t.delay/1e3,"Texto"==t.type?this.textData.forEach((e,i)=>{e.id==t.id&&(this.currentScriptMessage=i)}):"Áudio"==t.type?this.audioData.forEach((e,i)=>{e.id==t.id&&(this.currentScriptMessage=i)}):"Fotos e Vídeos"==t.type?this.fileData.forEach((e,i)=>{e.id==t.id&&(this.currentScriptMessage=i)}):"Arquivos"==t.type&&this.docData.forEach((e,i)=>{e.id==t.id&&(this.currentScriptMessage=i)}),this.editIndex=e,this.checkScriptLength()},changeScriptType(){this.currentListOfDataTitleId=[],"Todos"==this.currentScriptType?this.messageList.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Texto"==this.currentScriptType?this.textData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Áudio"==this.currentScriptType?this.audioData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Fotos e Vídeos"==this.currentScriptType?this.fileData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Arquivos"==this.currentScriptType&&this.docData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})})},async deleteScriptStore(t){let e=window.confirm("Deseja Realmente Deletar o Script?");if(!e)return;this.scriptList;const i=await Object(p["a"])(["scripts","triggerList"]);let s=i.triggerList||[],a=s.findIndex(e=>e.scriptId==t.id);if(-1!=a){let t=s[a];return void window.alert(`Este script está sendo usado no gatilho => ${t.name} <=, remova o script do gatilho para poder deletar o script`)}let r=this.scriptList.findIndex(e=>e.id==t.id);this.scriptList.splice(r,1),chrome.storage.local.set({scripts:JSON.stringify(this.scriptList)},(function(){}))}}};var _=i("fa7d"),w={name:"AddMessage",mixins:[x,h,T],data:function(){return{drag:!1,filelist:[],isAudioFilter:!0,isTextFilter:!1,isDataFilter:!1,isDocFilter:!1,selectedAddFilter:"Áudio",mensagem:{title:null,text:null,id:null,caption:null},fowardedMode:!1,textData:[],audioData:[],fileData:[],docData:[],options:[],tagMsg:[],savingData:!1,arquivoUpload:null,urlBlob:null,urlBlogImg:null}},computed:{availableOptions(){return this.options.filter(t=>-1===this.tagMsg.indexOf(t))},availableTagsEdit(){return this.options}},mounted(){this.getTags()},methods:{changeAddFilter(t){this.isTextFilter=!1,this.isAudioFilter=!1,this.isDataFilter=!1,this.isDocFilter=!1,"msg"==t?(this.selectedAddFilter="Texto",this.isTextFilter=!0):"audio"==t?(this.selectedAddFilter="Áudio",this.isAudioFilter=!0):"file"==t?(this.selectedAddFilter="Fotos e Vídeos",this.isDataFilter=!0):"doc"==t&&(this.selectedAddFilter="Arquivos",this.isDocFilter=!0)},toggleSwitchAudioAsRecorded(){this.fowardedMode=!this.fowardedMode},async getTags(){try{const t=await this.getIdFromStorage("tagList");if(!t||!t.tagList)return void(this.options=[]);this.options=JSON.parse(t.tagList)}catch(t){this.options=[]}},async saveMessage(t){this.savingData=!0,await this.loadDataStorage();let e=null,i=null,s=Object(_["b"])();if("Texto"==t){if(null==this.mensagem.title||null==this.mensagem.text)return window.alert("Digite o Título e Texto!"),void(this.savingData=!1);e={id:"text-"+s,type:"Texto",format:"str",title:this.mensagem.title,tags:this.tagMsg,fileType:"text",size:this.mensagem.text.length},i=this.mensagem.text,this.saveMessageToStorage(e,i)}else if("Áudio"==t){if(null==this.mensagem.title||null==this.arquivoUpload)return window.alert("Digite o Título e Coloque o Arquivo de Áudio!"),void(this.savingData=!1);let t=this.arquivoUpload.type.split("/");if("audio"!=t[0])return void this.makeToast("error","Formato Inválido");let a=await this.getFileInBASE(this.arquivoUpload),r=document.createElement("audio");r.src=a;let o=null;const n=await this.arquivoUpload.arrayBuffer(),l=await(new AudioContext).decodeAudioData(n);let c=Math.floor(l.duration)||0,d=this.arquivoUpload.size;e={id:t[0]+"-"+s,type:"Áudio",format:"."+t[1],title:this.mensagem.title,tags:this.tagMsg,fileType:t[0],fowardedMode:this.fowardedMode,duration:c,size:d,wave:o},i=a,this.saveMessageToStorage(e,i),this.filelist.splice(0,1)}else if("Fotos e Vídeos"==t){if(null==this.mensagem.title||null==this.arquivoUpload)return window.alert("Digite o Título e Coloque um Arquivo de Foto ou Vídeo!"),void(this.savingData=!1);let t=this.arquivoUpload.type.split("/");if("video"!=t[0]&&"image"!=t[0])return void this.makeToast("error","Formato Inválido");if(this.arquivoUpload.size>64e6)return this.makeToast("error","Arquivo maior que 64mb (limite do WhatsApp p/ mídias)"),void this.remove(0);let a=await this.getFileInBASE(this.arquivoUpload),r=this.arquivoUpload.size;e={id:t[0]+"-"+s,type:"Fotos e Vídeos",format:"."+t[1],title:this.mensagem.title,tags:this.tagMsg,fileType:t[0],caption:this.mensagem.caption,size:r},i=a,this.saveMessageToStorage(e,i),this.filelist.splice(0,1)}else if("Arquivos"==t){if(null==this.mensagem.title||null==this.arquivoUpload)return window.alert("Digite o Título e Coloque um Arquivo!"),void(this.savingData=!1);let t=this.arquivoUpload.name.split(".");if(this.arquivoUpload.size>1e8)return this.makeToast("error","Arquivo maior que 100mb"),void this.remove(0);let a=await this.getFileInBASE(this.arquivoUpload),r=this.arquivoUpload.size;e={id:"doc-"+s,type:"Arquivos",format:"."+t[1],title:this.mensagem.title,tags:this.tagMsg,fileType:"doc",size:r},i=a,this.saveMessageToStorage(e,i),this.filelist.splice(0,1)}this.arquivoUpload=null,this.mensagem.title=null,this.mensagem.text=null,this.mensagem.caption=null,this.tagMsg=null,this.savingData=!1,this.changeScriptType(),this.$emit("update-message-list",this.messageList),this.makeToast("ok","Salvo")},saveMessageToStorage(t,e){this.activeFilterTag="",this.messageList.push(t),chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),chrome.storage.local.set({[t.id]:JSON.stringify(e)},(function(){}))}}},k=w,D=(i("ab73"),Object(f["a"])(k,S,y,!1,null,null,null)),L=D.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lz-popup-options-config"},[e("b-modal",{attrs:{id:"tag-editor",size:"md",lazy:"","hide-footer":"","no-close-on-backdrop":"",title:"CONFIGURAÇÕES","dialog-class":"lz-config-modal-content","header-class":"lz-config-modal-header","body-class":"lz-config-modal-body"},on:{show:function(e){t.tagListTemp=t.options,t.loadConfigs()}}},[e("b-tabs",{attrs:{"content-class":"mt-3",justified:""},model:{value:t.activeTabOptions,callback:function(e){t.activeTabOptions=e},expression:"activeTabOptions"}},[e("b-tab",{attrs:{title:"GERAL"}},[[e("div",{staticClass:"tab-general-config"},[e("div",{staticClass:"each-config"},[e("div",[t._v("Ativar Interface no WhatsApp Web")]),e("div",{class:{"switch-container":!0,"switch-on":t.wppInjection,"switch-off":!t.wppInjection},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.wppInjection=!t.wppInjection}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.wppInjection,"ball-off":!t.wppInjection}})])]),t.wppInjection?e("div",{staticStyle:{background:"#1e252b","border-radius":"20px","font-size":"14px","padding-bottom":"7px"}},[e("div",{staticClass:"each-config-inner"},[e("div",[t._v("Ativar Atalhos de Envio")]),e("div",{class:{"switch-container":!0,"switch-on":t.showShortcuts,"switch-off":!t.showShortcuts},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.showShortcuts=!t.showShortcuts}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.showShortcuts,"ball-off":!t.showShortcuts}})])]),t.showShortcuts?e("div",{staticClass:"each-config-inner"},[e("div",[t._v("Ativar envio com 2 clicks")]),e("div",{class:{"switch-container":!0,"switch-on":t.confirmBeforeSend,"switch-off":!t.confirmBeforeSend},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.confirmBeforeSend=!t.confirmBeforeSend}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.confirmBeforeSend,"ball-off":!t.confirmBeforeSend}})])]):t._e()]):t._e(),e("div",{staticClass:"each-config"},[e("div",[t._v("Enviar vários scripts para mesma pessoa")]),e("div",{class:{"switch-container":!0,"switch-on":t.sendRepeatedScripts,"switch-off":!t.sendRepeatedScripts},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.sendRepeatedScripts=!t.sendRepeatedScripts}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.sendRepeatedScripts,"ball-off":!t.sendRepeatedScripts}})])]),e("div",{staticClass:"each-config"},[e("div",[t._v("Manter scripts em envio ao reiniciar")]),e("div",{class:{"switch-container":!0,"switch-on":t.keepScriptsOnRestart,"switch-off":!t.keepScriptsOnRestart},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.keepScriptsOnRestart=!t.keepScriptsOnRestart}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.keepScriptsOnRestart,"ball-off":!t.keepScriptsOnRestart}})])]),e("div",{staticClass:"each-config"},[e("div",[t._v("Adicionar delay aleatório aos scripts ao enviar")]),e("div",{class:{"switch-container":!0,"switch-on":t.randomDelay,"switch-off":!t.randomDelay},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.randomDelay=!t.randomDelay}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.randomDelay,"ball-off":!t.randomDelay}})])])]),e("div",{staticStyle:{display:"flex","justify-content":"flex-end",margin:"0 20px 13px 0px"}},[e("button",{staticClass:"btn save-message-button-save btn-secondary btn-sm",on:{click:function(e){return t.saveConfigs()}}},[t._v(" Salvar Configurações Gerais ")])])]],2),e("b-tab",{attrs:{title:"MINHA CONTA",active:""}},[e("div",{staticClass:"status-container",staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[e("div",[e("a",{staticClass:"btn save-message-button-save btn-secondary btn-sm mb-3",attrs:{href:"https://leadbet.com.br/gerenciador",target:"_blank"}},[t._v("Gerenciar Licença ")])]),e("div",{staticStyle:{width:"fit-content",background:"#1e252b","border-radius":"12px",padding:"0px 25px"}},["active"==t.userDataUpdate.subs_status&!t.loadingKey?e("div",{staticClass:"key-result"},[e("div",{staticClass:"result-text-key"},[e("p",[t._v(" Olá, "),e("b",[t._v(t._s(t.userDataUpdate.name))]),t._v("! ")]),e("p",[t._v("Seja bem vindo(a) ao Leadbet!")]),e("p",[t._v("Sua Licença está "),e("b",[t._v("confirmada e ativa")]),t._v("!")]),e("div",{staticClass:"license-box"},[t._v(" Nome: "+t._s(t.userDataUpdate.name)+" "),e("br"),t._v(" Email: "+t._s(t.userDataUpdate.email)+" "),e("br"),t._v(" CPF: "+t._s(t.userDataUpdate.cpf)+" "),e("br"),t._v(" Licença válida até: "+t._s(t.convertToDay(this.userDataUpdate.data_renovacao))+" ")])]),e("div",[t.updatedKey?e("b-button",{staticClass:"save-message-button-save mt-3",staticStyle:{background:"#c2c2c2 !important"},on:{click:function(e){return t.updateKey("ok")}}},[t._v("Atualizar Licença e Usar")]):t._e()],1)]):t._e()])]),t.accountChanged?t._e():e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px","margin-bottom":"20px"}},[t.changingKey?t._e():e("b-button",{staticClass:"save-message-button-save mt-2",on:{click:function(e){t.changingKey=!t.changingKey}}},[e("span",[t._v("DESEJO MUDAR DE CONTA")])]),t.changingKey?e("b-button",{staticClass:"save-message-button-save mt-2",on:{click:function(e){return t.callReload()}}},[e("span",[t._v("CANCELAR")])]):t._e()],1),!t.loadingKey&&t.changingKey?e("div",{staticClass:"title-script-insert",staticStyle:{margin:"0px 6%",display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",width:"100%"}},[e("div",{staticStyle:{"font-size":"14px","font-weight":"700","text-align":"center","margin-bottom":"8px"},attrs:{styyle:""}},[t._v(" CHAVE/TOKEN ")]),e("b-form-input",{staticStyle:{"text-align":"center"},attrs:{size:"sm",placeholder:"cole aqui seu token..."},model:{value:t.tempToken,callback:function(e){t.tempToken=e},expression:"tempToken"}}),t.tokenError.status?e("p",{staticClass:"token-error-update mt-4"},[t._v(" "+t._s(t.tokenError.text)+" ")]):t._e()],1),e("b-button",{staticClass:"save-message-button-save mt-4 mb-3",on:{click:function(e){return t.updateCurrentKey("update")}}},[t._v("Atualizar Chave")])],1):t._e(),t.loadingKey?e("div",{staticClass:"loading-key"},[e("b-spinner",{staticClass:"spinner-loading",attrs:{label:""}})],1):t._e()]),e("b-tab",{attrs:{title:"TAGS"}},[e("div",{staticClass:"tag-editor-modal mt-6"},[e("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,tagVariant:r,addTag:o,removeTag:n}){return[e("b-input-group",{staticClass:"mb-2"},[e("b-form-input",t._g(t._b({staticClass:"form-control",attrs:{placeholder:"Digite um Tag..."}},"b-form-input",s,!1),a)),e("b-input-group-append",[e("b-button",{staticClass:"btn-inserir-tag",on:{click:function(t){return o()}}},[t._v("Adicionar")])],1)],1),e("div",{staticClass:"d-inline-block lista-tags-editor",staticStyle:{"font-size":"1.5rem"}},t._l(i,(function(i){return e("b-form-tag",{key:i,staticClass:"mr-1",attrs:{title:i,variant:r},on:{remove:function(t){return n(i)}}},[t._v(t._s(i)+" ")])})),1)]}}]),model:{value:t.tagListTemp,callback:function(e){t.tagListTemp=e},expression:"tagListTemp"}}),e("button",{staticClass:"btn save-message-button-save btn-secondary btn-sm",on:{click:function(e){return t.saveTags()}}},[t._v(" SALVAR TAGS ")])],1)])],1)],1),e("b-modal",{attrs:{id:"backup-popup",lazy:"","hide-footer":"","no-close-on-backdrop":"",title:"Fazer Cópia de Segurança","dialog-class":"lz-config-modal-content","header-class":"lz-config-modal-header","body-class":"lz-config-modal-body"},on:{show:function(e){t.tagListTemp=t.options}}},[e("div",{staticClass:"importar-exportar-content"},[e("div",{staticClass:"download-backup"},[e("p",[t._v(" Para fazer Backup das suas mensagem Clique no botão abaixo. "),e("br"),t._v(" Se você tiver muitas mensagens salvas, pode "),e("b",[t._v("demorar alguns segundos para baixar")]),t._v(". Basta Aguardar! ")]),t.backupStarted?t._e():e("button",{staticClass:"btn save-message-button-save btn-secondary btn-sm mb-3",on:{click:function(e){return t.downloadData()}}},[t._v(" FAZER DOWNLOAD ")]),t.backupStarted?e("div",{staticStyle:{width:"250px"}},[t._v(" Preparando Arquivos... "),e("b-progress",{staticClass:"mb-3",attrs:{value:t.backupProgress,max:100}})],1):t._e()]),e("div",{staticClass:"restaurar-mensagens-content"},[e("div",{staticClass:"download-backup"},[e("p",[t._v(" Importe o arquivo .JSON que você exportou anterior com suas mensagens. ")]),e("b-form-file",{ref:"audio_input",staticClass:"mt-0",attrs:{placeholder:"",accept:"application/JSON","browse-text":"",plain:""},model:{value:t.jsonBackup,callback:function(e){t.jsonBackup=e},expression:"jsonBackup"}})],1),e("div",{staticClass:"restaurar-buttons"},[e("div",{staticClass:"btn-save-message-button-save-content"},[!t.backupLoaded&&t.jsonBackup?e("button",{staticClass:"btn save-message-button-save btn-secondary btn-sm mb-2",on:{click:function(e){return t.loadBackUpData("replace")}}},[t._v(" CARREGAR E SUBSTUIR ")]):t._e(),!t.backupLoaded&&t.jsonBackup?e("button",{staticClass:"btn save-message-button-save btn-secondary btn-sm mb-2",on:{click:function(e){return t.loadBackUpData("add")}}},[t._v(" ADICIONAR ÀS MSGS ATUAIS ")]):t._e()]),t.backupLoaded?e("div",[e("b-spinner",{attrs:{label:"Carregando Backup..."}})],1):t._e(),t.backupLoaded?e("div",[t._v("Aguarde... Carregando Backup")]):t._e()])])])])],1)},E=[],M=(i("5b81"),{name:"ModalSettings",mixins:[h],props:["userData","options","tokenError","tempToken","messageList","scriptList"],data:function(){return{loadingKey:!1,userDataUpdate:[],expiresDate:null,updatedKey:null,backupStarted:!1,backupLoaded:!1,tagListTemp:null,jsonBackup:null,activeTabOptions:0,backupProgress:0,processedFiles:!1,confirmBeforeSend:!0,keepScriptsOnRestart:!0,mobileMode:!1,randomDelay:!0,sendRepeatedScripts:!0,showNotifications:!0,showNotificationsAll:!0,showScriptStatus:!0,showShortcuts:!0,wppInjection:!0,changingKey:!1,accountChanged:!1}},created(){this.tagListTemp=this.options},watch:{activeTabOptions:function(){this.userDataUpdate=this.userData},wppInjection:function(){this.showShortcuts=this.wppInjection,this.confirmBeforeSend=this.wppInjection}},methods:{async loadConfigs(){let t=await Object(p["b"])("lz-config");0===Object.keys(t).length?(t={confirmBeforeSend:!0,keepScriptsOnRestart:!0,mobileMode:!1,randomDelay:!0,sendRepeatedScripts:!0,showNotifications:!0,showNotificationsAll:!0,showScriptStatus:!0,showShortcuts:!0,wppInjection:!0},Object(p["g"])("lz-config",t)):t=t["lz-config"],this.wppInjection=t.wppInjection,this.showShortcuts=t.showShortcuts,this.confirmBeforeSend=t.confirmBeforeSend,this.showNotifications=t.showNotifications,this.showNotificationsAll=t.showNotificationsAll,this.showScriptStatus=t.showScriptStatus,this.mobileMode=t.mobileMode,this.sendRepeatedScripts=t.sendRepeatedScripts,this.keepScriptsOnRestart=t.keepScriptsOnRestart,this.randomDelay=t.randomDelay},async saveConfigs(){this.wppInjection||(this.showShortcuts=!1,this.confirmBeforeSend=!1),this.showShortcuts||(this.confirmBeforeSend=!1);const t={confirmBeforeSend:this.confirmBeforeSend,keepScriptsOnRestart:this.keepScriptsOnRestart,mobileMode:this.mobileMode,randomDelay:this.randomDelay,sendRepeatedScripts:this.sendRepeatedScripts,showNotifications:this.showNotifications,showNotificationsAll:this.showNotificationsAll,showScriptStatus:this.showScriptStatus,showShortcuts:this.showShortcuts,wppInjection:this.wppInjection};await Object(p["g"])("lz-config",t),this.makeToast("ok","Configurações Salvas - Reinicie o WhatsApp Web!")},saveTags(){this.options=this.tagListTemp,chrome.storage.local.set({tagList:JSON.stringify(this.options)},(function(){})),this.$bvModal.hide("tag-editor"),this.$emit("updateData",this.options)},async updateCurrentKey(){if(this.loadingKey=!0,this.tempToken.length<15)return await this.sleep(500),this.tokenError.text="Digite a Chave de Acesso!",this.tokenError.status=!0,this.loadingKey=!1,void(this.updatedKey=!0);let t=await Object(p["a"])(["token"]);t=t.token;const e=t.device_id||"not-found";let i=await n.a.post(d["a"]+"/user/update",{serial:this.tempToken,ac_type:!0,device_id:e,device_name:null,leadbet_version:chrome.runtime.getManifest().version,terms_accepted:!0}).catch(t=>{this.tokenError.text=t.response.data.message,this.tokenError.status=!0,this.userDataUpdate.subs_status="none"});if(await this.sleep(500),!i)return this.loadingKey=!1,void(this.updatedKey=!0);this.userDataUpdate=i.data;let s=this.convertToDay(this.userDataUpdate.data_renovacao);"active"==this.userDataUpdate.subs_status?(this.token={status:!0,valor:this.tempToken,expiresDate:s,expires:this.userDataUpdate.data_renovacao},this.expiresDate=s,this.tokenError.text="",this.tokenError.status=!1,this.changingKey=!1,this.accountChanged=!0):"expired"==this.userDataUpdate.subs_status&&(this.expiresDate=s,this.tokenError.text="Essa chave já Expirou. Use outra!",this.tokenError.status=!0),this.loadingKey=!1,this.updatedKey=!0},async updateKey(t){"ok"==t?(this.userData=this.userDataUpdate,chrome.storage.local.set({token:JSON.stringify(this.token)},(function(){})),chrome.storage.local.set({userData:JSON.stringify(this.userData)},(function(){})),this.$bvModal.hide("tag-editor")):(this.userDataUpdate=this.userData,this.tempToken=this.token.valor,this.tokenError.text="",this.tokenError.status=!1),this.loadingKey=!0,await this.sleep(500),this.loadingKey=!1,this.updatedKey=!1,window.location.reload()},async downloadData(){this.backupStarted=!0,this.backupProgress=0,await this.sleep(500);let t=[],e=null;this.backupProgress=0;for(let c=0;c<this.messageList.length;c++){e=this.messageList[c];let i=await this.loadDataIdStorage(e.id,!0);t.push({id:e.id,data:i}),this.backupProgress=c/this.messageList.length*100}const i=await Object(p["a"])(["triggerList"]);let s=i.triggerList||[],a={fileArray:t,messageList:this.messageList,tagList:this.options,scripts:this.scriptList,triggerList:s},r=document.createElement("a"),o=new Blob([JSON.stringify(a)],{type:"application/json"}),n=URL.createObjectURL(o);r.href=n;let l=new Date;r.download="leadbet-backup-"+String(l.toLocaleDateString("pt-BR").replaceAll("/","-"))+".json",r.click(),window.URL.revokeObjectURL(n),this.backupStarted=!1,this.backupProgress=0},async loadBackUpData(t){this.backupLoaded=!0,await this.sleep(500);let e=[];for(let a=0;a<this.messageList.length;a++)e.push(this.messageList[a].id);let i=await F(this.jsonBackup),s=JSON.parse(i);if("replace"==t){for(let i=0;i<e.length;i++)chrome.storage.local.remove(e[i],(function(){}));this.messageList=s.messageList,chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),s.fileArray.forEach(t=>{chrome.storage.local.set({[t.id]:JSON.stringify(t.data)},(function(){}))}),this.options=s.tagList,chrome.storage.local.set({tagList:JSON.stringify(s.tagList)},(function(){})),this.scriptList=s.scripts,chrome.storage.local.set({scripts:JSON.stringify(this.scriptList)},(function(){}));let t=s.triggerList||[];chrome.storage.local.set({triggerList:JSON.stringify(t)},(function(){})),this.makeToast("ok","Mensagens Carregadas!!")}else"add"==t&&(s.messageList.forEach(t=>{this.messageList.push(t)}),chrome.storage.local.set({messageList:JSON.stringify(this.messageList)},(function(){})),s.fileArray.forEach(t=>{chrome.storage.local.set({[t.id]:JSON.stringify(t.data)},(function(){}))}),s.tagList.forEach(t=>{this.options.push(t)}),chrome.storage.local.set({tagList:JSON.stringify(s.tagList)},(function(){})),s.scripts.forEach(t=>{this.scriptList.push(t)}),chrome.storage.local.set({scripts:JSON.stringify(this.scriptList)},(function(){})),this.makeToast("ok","Novas Mensagens Adicionadas!!"));this.backupLoaded=!1,this.$bvModal.hide("tag-editor"),this.jsonBackup=null,window.location.reload()},async loadDataIdStorage(t){let e=await this.getIdFromStorage(t);return JSON.parse(e[t])},async getIdFromStorage(t){return new Promise((e,i)=>{null!=t?chrome.storage.local.get([t],(function(t){e(t)})):i(null)})},async loadAudio(t,e){let i=t,s=O(e,i.title);return s},async saveGeneralSettings(){let t={wppInjection:this.wppInjection};chrome.storage.local.set({settings:JSON.stringify(t)},(function(){}))},async callReload(){this.$bvModal.hide("tag-editor"),await I(1e3),window.location.reload()}}});async function F(t){return new Promise((e,i)=>{const s=new FileReader;s.onload=function(){const t=s.result;return e(t)},s.onerror=function(t){return i(t)},s.readAsText(t)})}function O(t,e="audio"){let[i,s]=t.split(","),a=i.match(/:(.*?);/)[1],r=window.Base64?window.Base64.atob(s):atob(s);var o=r.length,n=new Uint8Array(o);while(o--)n[o]=r.charCodeAt(o);let l=new File([n],e,{type:a});return l}function I(t){return new Promise(e=>setTimeout(e,t))}var z=M,q=(i("189b"),Object(f["a"])(z,A,E,!1,null,null,null)),B=q.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activation-popup-content"},[e("b-modal",{attrs:{id:"load-user",title:"ATIVAÇÃO DE USUÁRIO",centered:"","no-close-on-esc":"","hide-header":"","no-close-on-backdrop":"","hide-header-close":"",size:"lg","hide-footer":"","modal-class":"modal-active"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"login-box-left col py-5",staticStyle:{display:"flex","flex-direction":"column"}},[e("div",{staticStyle:{width:"80%",display:"flex","justify-content":"space-between","flex-direction":"row"}},[e("div",[e("p",{staticClass:"px-1",staticStyle:{width:"fit-content","font-size":"12px","font-weight":"bold","margin-bottom":"-1px"}},[t._v(" Ativar Licença ")]),e("div",{staticClass:"k-traco"})]),e("div",[e("a",{staticClass:"px-1",staticStyle:{"font-size":"11px",color:"#121212"},attrs:{href:"https://www.leadbet.com.br/whatsapp-suporte",target:"_blank"}},[t._v(" Precisa de ajudar? ")])])]),t.userData.subs_status?t._e():e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticClass:"welcome-section",staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-bottom":"30px","margin-top":"50px"}},[e("div",{staticStyle:{"font-size":"15px","font-weight":"600"}},[t._v("BEM VINDO AO")]),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{height:"20px","margin-left":"5px","margin-bottom":"0px"},attrs:{src:"/img/logo-grey-ponto.svg"}})])]),e("div",{staticClass:"key-section",staticStyle:{width:"90%"}},[t.loadingKey?t._e():e("div",{staticClass:"key-insert"},[t.licenceReturn.error?t._e():e("p",{staticStyle:{"font-size":"13px"}},[t._v(" Insira a Chave/Token abaixo ")]),t.licenceReturn.error?e("p",{staticStyle:{"font-size":"13px",color:"red",display:"flex","flex-direction":"column","align-items":"center"}},[t._v(" "+t._s(t.licenceReturn.text)+" "),e("a",{staticClass:"px-1",staticStyle:{"font-size":"11px",color:"#121212"},attrs:{href:"https://www.leadbet.com.br/whatsapp-suporte",target:"_blank"}},[t._v(" Precisa de ajudar? Clique aqui! ")])]):t._e(),e("b-form-input",{staticStyle:{"font-size":"14px"},attrs:{placeholder:"cole a chave aqui"},model:{value:t.newToken,callback:function(e){t.newToken=e},expression:"newToken"}}),e("div",{staticClass:"accept-terms",class:{"termos-nao-aceito":t.showTermosInfo},staticStyle:{display:"flex","margin-top":"10px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.termosAceitos,expression:"termosAceitos"}],staticClass:"form-check-input",attrs:{type:"checkbox",color:"primary",id:"defaultCheck1"},domProps:{checked:Array.isArray(t.termosAceitos)?t._i(t.termosAceitos,null)>-1:t.termosAceitos},on:{change:function(e){var i=t.termosAceitos,s=e.target,a=!!s.checked;if(Array.isArray(i)){var r=null,o=t._i(i,r);s.checked?o<0&&(t.termosAceitos=i.concat([r])):o>-1&&(t.termosAceitos=i.slice(0,o).concat(i.slice(o+1)))}else t.termosAceitos=a}}}),e("label",{staticStyle:{"font-size":"9px","margin-left":"5px"},attrs:{for:"defaultCheck1"}},[t._v(' Ao clicar em "Inserir Chave" você concorda com os '),e("a",{staticStyle:{color:"#000000"},attrs:{href:"https://www.leadbet.com.br/termos-de-uso/",target:"_blank"}},[t._v("Termos de Uso")])])]),t.termosAceitos?t._e():e("b-button",{staticClass:"px-5",staticStyle:{"margin-top":"16px","margin-bottom":"16px",cursor:"not-allowed"},on:{click:function(e){t.showTermosInfo=!0}}},[t._v(" Inserir Chave ")]),t.termosAceitos?e("b-button",{staticClass:"px-5",staticStyle:{"margin-top":"16px","margin-bottom":"16px","background-color":"#121212"},on:{click:function(e){return t.insertNewKey()}}},[t._v(" Inserir Chave ")]):t._e()],1),t.loadingKey?e("div",{staticClass:"loading-key"},[e("b-spinner",{attrs:{small:"",label:"Spinning"}}),e("div",{staticStyle:{"font-size":"12px","margin-left":"5px"}},[t._v("ativando...")])],1):t._e()])]),"active"==t.userData.subs_status&!t.loadingKey?e("div",{staticStyle:{width:"90%"}},[t.licenceAvancar?t._e():e("div",{staticClass:"key-result"},[e("div",{staticClass:"result-text-key"},[e("p",[t._v(" Olá, "),e("b",[t._v(t._s(t.userData.name))]),t._v("! ")]),e("p",[t._v("Seja bem vindo(a) ao Leadbet! 🤩")]),e("p",[t._v("Sua Licença está "),e("b",[t._v("confirmada e ativa")]),t._v("!")]),e("div",{staticClass:"license-box"},[t._v(" Nome: "+t._s(t.userData.name)+" "),e("br"),t._v(" Email: "+t._s(t.userData.email)+" "),e("br"),t._v(" CPF: "+t._s(t.userData.cpf)+" "),e("br"),t._v(" Licença válida até: "+t._s(this.expiresDate)+" ")])]),t.marketOptions.length>0&&t.originOptions.length>0?e("div",{staticClass:"market-info",style:{"border-color":t.marketInfoSelected?"your-desired-color":"#f44336"}},[e("div",{staticClass:"market-info-section"},[e("div",[t._v("Em qual mercado você atua?")]),e("b-form-select",{staticClass:"market-info-select",attrs:{options:t.marketOptions},model:{value:t.marketSelection,callback:function(e){t.marketSelection=e},expression:"marketSelection"}})],1),e("div",{staticClass:"market-info-section",staticStyle:{"margin-top":"12px"}},[e("div",[t._v("Como você conheceu o Leadbet?")]),e("b-form-select",{staticClass:"market-info-select",attrs:{options:t.originOptions},model:{value:t.originSelection,callback:function(e){t.originSelection=e},expression:"originSelection"}}),e("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[1==t.originSelection?e("b-form-input",{staticClass:"market-detail",attrs:{placeholder:"Foi algum blog/site? Qual?"},model:{value:t.originDetail,callback:function(e){t.originDetail=e},expression:"originDetail"}}):t._e(),5==t.originSelection?e("b-form-input",{staticClass:"market-detail",attrs:{placeholder:"Qual o nome do curso/professor?"},model:{value:t.originDetail,callback:function(e){t.originDetail=e},expression:"originDetail"}}):t._e(),6==t.originSelection?e("b-form-input",{staticClass:"market-detail",attrs:{placeholder:"Qual o nome do amigo?"},model:{value:t.originDetail,callback:function(e){t.originDetail=e},expression:"originDetail"}}):t._e(),7==t.originSelection?e("b-form-input",{staticClass:"market-detail",attrs:{placeholder:"Qual o nome do canal?"},model:{value:t.originDetail,callback:function(e){t.originDetail=e},expression:"originDetail"}}):t._e(),999==t.originSelection?e("b-form-input",{staticClass:"market-detail",attrs:{placeholder:"Onde foi?"},model:{value:t.originDetail,callback:function(e){t.originDetail=e},expression:"originDetail"}}):t._e()],1)],1)]):t._e(),e("div",[t.marketSelection&&t.originSelection?e("b-button",{staticStyle:{color:"#f4f4f4 !important","margin-top":"26px","background-color":"#121212"},on:{click:function(e){return t.insertMarketData()}}},[t._v("Avançar")]):e("b-button",{staticStyle:{color:"#f4f4f4 !important","margin-top":"26px",cursor:"not-allowed","background-color":"#6c757d !important"},on:{click:function(e){return t.checkMarketSelected()}}},[t._v("Avançar")])],1)]),t.licenceAvancar?e("div",{staticClass:"key-result"},[e("div",{staticClass:"result-text-key"},[e("p",[e("b",[t._v("⚠️ IMPORTANTE")])]),e("p",[t._v(" O Leadbet é fácil e intuitivo, mas é importante que você veja todos os "),e("a",{staticStyle:{color:"#121212"},attrs:{href:"https://leadbet.com.br/instalacao-tutorial",target:"_blank"}},[t._v("vídeos tutoriais")]),t._v("! ")]),e("p",[t._v(" Vale lembrar que o "),e("b",[t._v("acesso é único e individual (1 número por vez)")]),t._v(". ")]),e("p",[t._v(" Em caso de compartilhamento chave de acesso poderá ser suspensa! ")]),e("p",[t._v(" Caso precise de mais números você pode adquirir através do nosso suporte. ")]),e("p"),e("p",[t._v("Por favor, respeite as regras!")])]),e("div",[e("b-button",{staticClass:"mt-3",staticStyle:{color:"#f4f4f4 !important"},on:{click:t.activeLicence}},[t._v("Concordar e Ativar Conta")])],1)]):t._e()]):t._e(),e("div",{staticClass:"mt-4"},[t.tokenError.status&&"expired"==t.userData.subs_status?e("p",{staticClass:"token-error"},[t._v(" "+t._s(t.tokenError.text)+" ")]):t._e()]),"expired"==t.userData.subs_status&!t.loadingKey?e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticClass:"license-box mt-3"},[t._v(" Nome: "+t._s(t.userData.name)+" "),e("br"),t._v(" Email: "+t._s(t.userData.email)+" "),e("br"),t._v(" CPF: "+t._s(t.userData.cpf)+" "),e("br"),t._v(" Licença Expirou em: "+t._s(this.expiresDate)+" ")]),e("a",{staticClass:"px-1",staticStyle:{"font-size":"11px",color:"#121212"},attrs:{href:"https://www.leadbet.com.br/whatsapp-suporte",target:"_blank"}},[t._v(" Precisa de ajudar? Clique aqui! ")]),e("b-button",{staticClass:"px-5",staticStyle:{"margin-top":"16px","margin-bottom":"16px"},on:{click:function(e){t.loadingKey=!1,t.userData.subs_status=null,t.newToken="",t.licenceAvancar=!1,t.termosAceitos=!0}}},[t._v("Inserir nova licença")])],1):t._e(),e("div",{staticClass:"social-section",staticStyle:{"margin-top":"30px"}},[e("a",{attrs:{href:"https://www.instagram.com/leadbet.com.br/",target:"_blank"}},[e("img",{staticStyle:{height:"35px"},attrs:{src:"/img/instagram-icon.svg"}})])])]),e("div",{staticClass:"col login-box-right"},[e("img",{staticStyle:{height:"100px"},attrs:{src:"/img/logo-new.svg"}})])])])],1)},N=[],j={name:"Header",props:["tokenError"],mixins:[h],data:function(){return{loadingKey:!1,userData:[],newToken:"",licenceAvancar:!1,termosAceitos:!1,showTermosInfo:!1,userMarketInfo:{token:"",market:"",origin:""},marketInfoSelected:!0,marketSelection:null,originSelection:null,originDetail:null,licenceReturn:{error:!1,text:""},marketOptions:[],originOptions:[]}},mounted(){this.getMarketData()},methods:{async getMarketData(){return new Promise((r)=>{r()});let t=await n.a.get(d["a"]+"/origin/markets").catch(t=>{console.log(t)});this.originOptions=[],this.marketOptions=[],t.data.marketList.forEach(t=>{this.marketOptions.push({value:t.id,text:t.name})}),t.data.originList.forEach(t=>{this.originOptions.push({value:t.id,text:t.name})}),this.originOptions.map(t=>({value:t.id,text:t.name})),this.marketOptions.sort((t,e)=>t.value-e.value),this.originOptions.sort((t,e)=>t.value-e.value)},async insertNewKey(){this.loadingKey=!0;let t="device-"+Object(_["b"])(),e=chrome.runtime.getManifest().version||"not found";/*if(this.newToken.length<10)return await this.sleep(500),this.tokenError.text="Digite a Chave de Acesso!",this.tokenError.status=!0,this.loadingKey=!1,void(this.updatedKey=!0);let i=await n.a.post(d["a"]+"/user/activate",{serial:this.newToken,ac_type:!0,device_id:t,device_name:null,leadbet_version:e,terms_accepted:this.termosAceitos}).catch(t=>{this.tokenError.text=t.response.data,this.tokenError.status=!0,this.licenceReturn.error=!0,this.licenceReturn.text=t.response.data.message});if(await this.sleep(500),!i)return this.loadingKey=!1,void(this.updatedKey=!0);*/this.newToken="101010101010101010101010";this.userData={"name": "fiverr.com/abhijitk260","id": 1010,"email": "fiverr.com/abhijitk260","cpf": "10101010101","phone": "00 000000000","subs_status": "active","data_renovacao": (new Date().getFullYear()+10)+"-12-28T12:00:00.000Z","wpp_type": "f","created_at": "2022-10-17T19:28:09.976Z","lastNotification": 2};let s=this.convertToDay(this.userData.data_renovacao);"active"==this.userData.subs_status?(this.token={status:!0,valor:this.newToken,expiresDate:s,expires:this.userData.data_renovacao,device_id:t},this.expiresDate=s,this.tokenError.text="",this.tokenError.status=!1,chrome.storage.local.set({token:JSON.stringify(this.token)},(function(){})),chrome.storage.local.set({userData:JSON.stringify(this.userData)},(function(){}))):"expired"==this.userData.subs_status&&(this.token={status:!1,valor:this.newToken,expiresDate:s,expires:this.userData.data_renovacao},this.expiresDate=s,this.tokenError.text="Essa chave já Expirou. Use outra!",this.tokenError.status=!0),this.loadingKey=!1,this.updatedKey=!0},async activeLicence(){await this.sleep(500),window.location.reload(),chrome.runtime.sendMessage({action:"updateWppWebPage"})},checkMarketSelected(){this.marketSelection&&this.originSelection?this.marketInfoSelected=!0:this.marketInfoSelected=!1},async insertMarketData(){this.licenceAvancar=!0;let t={serial:this.newToken,market_id:this.marketSelection,market_name:this.marketOptions.find(t=>t.value==this.marketSelection).text,origin_id:this.originSelection,origin_name:this.originOptions.find(t=>t.value==this.originSelection).text,origin_detail:this.originDetail};n.a.post(d["a"]+"/origin/user-market",t).catch(t=>{console.log(t)})}}},U=j,V=(i("3c99"),Object(f["a"])(U,R,N,!1,null,null,null)),H=V.exports,$=function(){var t=this,e=t._self._c;return e("div",{key:t.i,staticClass:"mb-2",attrs:{id:"msgSort"}},[e("div",{staticClass:"result-list-detail",class:{setBorderBottom:0==t.eachMessage.tags.length}},[e("div",{staticClass:"result-list-detail-left"},[e("div",{staticClass:"order-result"},[e("div",{staticClass:"order-result-number"},[t._v(" "+t._s(t.i+1)+" ")])]),e("div",{staticClass:"msg-content-each-line"},[e("div",{staticClass:"name-result"},[e("div",{staticClass:"icon-result"},[e("b-img",{staticStyle:{height:"11px"},attrs:{src:t.getIcon(t.eachMessage.type),fluid:""}})],1),e("div",{staticClass:"name-result",attrs:{title:t.eachMessage.text}},[e("div",{staticClass:"text-result"},[t._v(" "+t._s(t.eachMessage.title)+" ")]),"audio"===t.eachMessage.fileType&&t.eachMessage.fowardedMode?e("div",{staticClass:"tags-listed-buttons",staticStyle:{background:"#0d1419","border-radius":"4px",padding:"0px 8px","font-size":"9px","margin-top":"-3px"}},[t._v(" encaminhado ")]):t._e()])]),e("div",[t.eachMessage.tags.length>0?e("div",{staticClass:"tags-listed-buttons"},[e("b-icon",{attrs:{icon:"tag-fill"}}),t._l(t.eachMessage.tags,(function(i,s){return e("div",{key:s+8,staticStyle:{"margin-top":"-2px","margin-left":"4px","text-wrap":"nowrap"}},[e("span",[t._v(t._s(i))]),s<t.eachMessage.tags.length-1?e("span",{staticStyle:{"margin-left":"-3px"}},[t._v(" , ")]):t._e()])}))],2):t._e()]),t.hideControls?t._e():e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"handle action-buttons-handle action-handle-script-responsive",attrs:{title:"Arraste para Reorganizar",variant:"secondary"}},[e("svg",{attrs:{width:"17",height:"17",viewBox:"0 0 17 17",fill:"#0D1419",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.4385 3.11982C11.2791 3.25105 11.0629 3.32477 10.8376 3.32477C10.6122 3.32477 10.396 3.25105 10.2366 3.11982L9.35002 2.3897V4.37494C9.35002 4.5606 9.26046 4.73865 9.10105 4.86993C8.94164 5.00121 8.72544 5.07496 8.5 5.07496C8.27456 5.07496 8.05836 5.00121 7.89895 4.86993C7.73954 4.73865 7.64998 4.5606 7.64998 4.37494V2.3897L6.76341 3.11982C6.6031 3.24733 6.38838 3.31789 6.16551 3.31629C5.94264 3.3147 5.72944 3.24108 5.57184 3.11129C5.41424 2.9815 5.32485 2.80593 5.32291 2.62239C5.32097 2.43885 5.40665 2.26202 5.56149 2.13L7.89904 0.204955C8.05844 0.0737223 8.27461 0 8.5 0C8.72539 0 8.94156 0.0737223 9.10096 0.204955L11.4385 2.13C11.5979 2.26127 11.6874 2.43929 11.6874 2.62491C11.6874 2.81053 11.5979 2.98854 11.4385 3.11982ZM3.78835 8.43013C3.86953 8.49471 3.93429 8.57195 3.97884 8.65735C4.02339 8.74276 4.04684 8.83461 4.04782 8.92756C4.0488 9.02051 4.02729 9.11269 3.98455 9.19871C3.94181 9.28474 3.8787 9.3629 3.79889 9.42863C3.71907 9.49435 3.62417 9.54633 3.5197 9.58153C3.41524 9.61673 3.30331 9.63444 3.19045 9.63363C3.07758 9.63282 2.96604 9.61351 2.86234 9.57683C2.75863 9.54014 2.66484 9.48681 2.58642 9.41995L0.248874 7.49491C0.0895199 7.36364 0 7.18562 0 7C0 6.81438 0.0895199 6.63636 0.248874 6.50509L2.58642 4.58005C2.74674 4.45254 2.96146 4.38198 3.18433 4.38357C3.4072 4.38517 3.62039 4.45879 3.77799 4.58858C3.9356 4.71836 4.02499 4.89394 4.02693 5.07748C4.02886 5.26102 3.94319 5.43784 3.78835 5.56987L2.90178 6.29998H5.31243C5.53787 6.29998 5.75408 6.37374 5.91349 6.50501C6.07289 6.63629 6.16245 6.81434 6.16245 7C6.16245 7.18566 6.07289 7.36371 5.91349 7.49499C5.75408 7.62626 5.53787 7.70002 5.31243 7.70002H2.90178L3.78835 8.43013ZM14.4136 9.41995C14.2533 9.54746 14.0385 9.61802 13.8157 9.61643C13.5928 9.61483 13.3796 9.54121 13.222 9.41142C13.0644 9.28164 12.975 9.10606 12.9731 8.92252C12.9711 8.73898 13.0568 8.56215 13.2116 8.43013L14.0982 7.70002H11.6876C11.4621 7.70002 11.2459 7.62626 11.0865 7.49499C10.9271 7.36371 10.8376 7.18566 10.8376 7C10.8376 6.81434 10.9271 6.63629 11.0865 6.50501C11.2459 6.37374 11.4621 6.29998 11.6876 6.29998H14.0982L13.2116 5.56987C13.0568 5.43784 12.9711 5.26102 12.9731 5.07748C12.975 4.89394 13.0644 4.71836 13.222 4.58858C13.3796 4.45879 13.5928 4.38517 13.8157 4.38357C14.0385 4.38198 14.2533 4.45254 14.4136 4.58005L16.7511 6.50509C16.9105 6.63636 17 6.81438 17 7C17 7.18562 16.9105 7.36364 16.7511 7.49491L14.4136 9.41995ZM7.64998 11.6103V9.62506C7.64998 9.4394 7.73954 9.26135 7.89895 9.13007C8.05836 8.99879 8.27456 8.92504 8.5 8.92504C8.72544 8.92504 8.94164 8.99879 9.10105 9.13007C9.26046 9.26135 9.35002 9.4394 9.35002 9.62506V11.6103L10.2366 10.8802C10.3969 10.7527 10.6116 10.6821 10.8345 10.6837C11.0574 10.6853 11.2706 10.7589 11.4282 10.8887C11.5858 11.0185 11.6752 11.1941 11.6771 11.3776C11.679 11.5612 11.5934 11.738 11.4385 11.87L9.10096 13.795C8.94156 13.9263 8.72539 14 8.5 14C8.27461 14 8.05844 13.9263 7.89904 13.795L5.56149 11.87C5.4803 11.8054 5.41554 11.7282 5.371 11.6428C5.32645 11.5574 5.303 11.4655 5.30202 11.3726C5.30104 11.2796 5.32255 11.1874 5.36528 11.1014C5.40802 11.0154 5.47114 10.9372 5.55095 10.8715C5.63076 10.8058 5.72567 10.7538 5.83013 10.7186C5.9346 10.6834 6.04653 10.6657 6.15939 10.6665C6.27226 10.6673 6.38379 10.6866 6.4875 10.7233C6.59121 10.76 6.685 10.8133 6.76341 10.8802L7.64998 11.6103Z"}})])])],1),e("div",{staticClass:"result-action script-adding",class:{resultActionTag:t.eachMessage.tags.length>0}},[e("b-button",{staticClass:"action-buttons-msg-edit",attrs:{title:"Editar Mensagem",variant:"secondary"},on:{click:function(e){return t.editMessage(t.eachMessage)}}},[e("b-icon",{attrs:{icon:"gear"}})],1)],1)]),e("div",{staticClass:"msg-delete"},[e("b-button",{staticClass:"action-buttons-msg-delete",attrs:{title:"Deletar Mensagem",variant:"danger"},on:{click:function(e){return t.deleteMessage(t.eachMessage.id)}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#1E252B",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82857 0.518555L4.57143 0.9375H1.14286C0.510714 0.9375 0 1.35645 0 1.875C0 2.39355 0.510714 2.8125 1.14286 2.8125H14.8571C15.4893 2.8125 16 2.39355 16 1.875C16 1.35645 15.4893 0.9375 14.8571 0.9375H11.4286L11.1714 0.518555C10.9786 0.199219 10.5821 0 10.15 0H5.85C5.41786 0 5.02143 0.199219 4.82857 0.518555ZM14.8571 3.75H1.14286L1.9 13.6816C1.95714 14.4229 2.70714 15 3.61071 15H12.3893C13.2929 15 14.0429 14.4229 14.1 13.6816L14.8571 3.75Z"}})])])],1)])])])},P=[],G={name:"EachMessageList",props:["eachMessage","hideControls","i"],data:function(){return{}},methods:{editMessage(t){this.$emit("edit-message",t)},deleteMessage(t){this.$emit("delete-message",t)},getIcon(t){return"Texto"==t?"img/chat-icon.svg":"Áudio"==t?"img/mic-icon.svg":"Fotos e Vídeos"==t?"img/camera-icon.svg":"Arquivos"==t?"img/file-icon.svg":"script"==t?"img/script-icon.svg":void 0}}},J=G,K=(i("5a0f"),Object(f["a"])(J,$,P,!1,null,null,null)),Z=K.exports,W=function(){var t=this,e=t._self._c;return e("div",[e("AddTrigger",{ref:"triggerAddRef",attrs:{scriptList:t.scriptList,triggerList:t.triggerList},on:{"update-script-list":function(e){return t.loadDataStorageTriggers()},"change-editing-state":function(e){t.isEditingTrigger=e}}}),t.scriptList&&t.scriptList.length>0&&!t.isEditingTrigger?e("div",{staticClass:"tab-message-list"},[t.triggerList.length>0?e("div",{staticClass:"tab-add-message-lista"},[e("h2",[t._v("Lista de Gatilhos")])]):t._e(),t.triggerList?e("div",{staticClass:"script-list-results"},[e("draggable",{attrs:{group:"triggerData",handle:".handle"},on:{start:function(e){t.drag=!0},end:t.onEnd},model:{value:t.triggerList,callback:function(e){t.triggerList=e},expression:"triggerList"}},[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.triggerList,(function(i,s){return e("div",{key:s+2,staticClass:"mb-2",attrs:{id:"scriptSort"}},[e("EachTriggerList",{attrs:{eachTrigger:i,i:s,hideControls:!1},on:{"edit-trigger":function(e){return t.callEditTrigger(e,s)},"delete-trigger":function(e){return t.deleteTrigger(e)},"activate-deactivate-trigger":function(e){return t.saveTriggersToStorage()}}})],1)})),0)],1)],1):t._e()]):t._e()],1)},Q=[],X=function(){var t=this,e=t._self._c;return e("div",{key:t.i,staticClass:"mb-2",attrs:{id:"triggerSort"}},[e("div",{staticClass:"result-list-detail"},[e("div",{staticClass:"result-list-detail-left"},[e("div",{staticClass:"order-result"},[e("div",{staticClass:"order-result-number"},[t._v(" "+t._s(t.i+1)+" ")])]),e("div",{staticClass:"msg-content-each-line"},[e("div",{staticClass:"name-result"},[e("div",{staticClass:"icon-result"},[e("b-img",{staticStyle:{height:"15px"},attrs:{src:t.getIcon(),fluid:""}})],1),e("div",{staticClass:"name-result",attrs:{title:t.eachTrigger.name}},[e("div",{staticClass:"text-result"},[t._v(" "+t._s(t.eachTrigger.name)+" ")]),e("div",{staticClass:"text-result"})])]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{class:{"switch-container":!0,"switch-on":t.eachTrigger.isActive,"switch-off":!t.eachTrigger.isActive},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.eachTrigger.isActive=!t.eachTrigger.isActive,t.$emit("activate-deactivate-trigger",t.eachTrigger)}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.eachTrigger.isActive,"ball-off":!t.eachTrigger.isActive}})])]),e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"handle action-buttons-handle action-handle-script-responsive",attrs:{title:"Arraste para Reorganizar",variant:"secondary"}},[e("svg",{attrs:{width:"17",height:"17",viewBox:"0 0 17 17",fill:"#0D1419",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.4385 3.11982C11.2791 3.25105 11.0629 3.32477 10.8376 3.32477C10.6122 3.32477 10.396 3.25105 10.2366 3.11982L9.35002 2.3897V4.37494C9.35002 4.5606 9.26046 4.73865 9.10105 4.86993C8.94164 5.00121 8.72544 5.07496 8.5 5.07496C8.27456 5.07496 8.05836 5.00121 7.89895 4.86993C7.73954 4.73865 7.64998 4.5606 7.64998 4.37494V2.3897L6.76341 3.11982C6.6031 3.24733 6.38838 3.31789 6.16551 3.31629C5.94264 3.3147 5.72944 3.24108 5.57184 3.11129C5.41424 2.9815 5.32485 2.80593 5.32291 2.62239C5.32097 2.43885 5.40665 2.26202 5.56149 2.13L7.89904 0.204955C8.05844 0.0737223 8.27461 0 8.5 0C8.72539 0 8.94156 0.0737223 9.10096 0.204955L11.4385 2.13C11.5979 2.26127 11.6874 2.43929 11.6874 2.62491C11.6874 2.81053 11.5979 2.98854 11.4385 3.11982ZM3.78835 8.43013C3.86953 8.49471 3.93429 8.57195 3.97884 8.65735C4.02339 8.74276 4.04684 8.83461 4.04782 8.92756C4.0488 9.02051 4.02729 9.11269 3.98455 9.19871C3.94181 9.28474 3.8787 9.3629 3.79889 9.42863C3.71907 9.49435 3.62417 9.54633 3.5197 9.58153C3.41524 9.61673 3.30331 9.63444 3.19045 9.63363C3.07758 9.63282 2.96604 9.61351 2.86234 9.57683C2.75863 9.54014 2.66484 9.48681 2.58642 9.41995L0.248874 7.49491C0.0895199 7.36364 0 7.18562 0 7C0 6.81438 0.0895199 6.63636 0.248874 6.50509L2.58642 4.58005C2.74674 4.45254 2.96146 4.38198 3.18433 4.38357C3.4072 4.38517 3.62039 4.45879 3.77799 4.58858C3.9356 4.71836 4.02499 4.89394 4.02693 5.07748C4.02886 5.26102 3.94319 5.43784 3.78835 5.56987L2.90178 6.29998H5.31243C5.53787 6.29998 5.75408 6.37374 5.91349 6.50501C6.07289 6.63629 6.16245 6.81434 6.16245 7C6.16245 7.18566 6.07289 7.36371 5.91349 7.49499C5.75408 7.62626 5.53787 7.70002 5.31243 7.70002H2.90178L3.78835 8.43013ZM14.4136 9.41995C14.2533 9.54746 14.0385 9.61802 13.8157 9.61643C13.5928 9.61483 13.3796 9.54121 13.222 9.41142C13.0644 9.28164 12.975 9.10606 12.9731 8.92252C12.9711 8.73898 13.0568 8.56215 13.2116 8.43013L14.0982 7.70002H11.6876C11.4621 7.70002 11.2459 7.62626 11.0865 7.49499C10.9271 7.36371 10.8376 7.18566 10.8376 7C10.8376 6.81434 10.9271 6.63629 11.0865 6.50501C11.2459 6.37374 11.4621 6.29998 11.6876 6.29998H14.0982L13.2116 5.56987C13.0568 5.43784 12.9711 5.26102 12.9731 5.07748C12.975 4.89394 13.0644 4.71836 13.222 4.58858C13.3796 4.45879 13.5928 4.38517 13.8157 4.38357C14.0385 4.38198 14.2533 4.45254 14.4136 4.58005L16.7511 6.50509C16.9105 6.63636 17 6.81438 17 7C17 7.18562 16.9105 7.36364 16.7511 7.49491L14.4136 9.41995ZM7.64998 11.6103V9.62506C7.64998 9.4394 7.73954 9.26135 7.89895 9.13007C8.05836 8.99879 8.27456 8.92504 8.5 8.92504C8.72544 8.92504 8.94164 8.99879 9.10105 9.13007C9.26046 9.26135 9.35002 9.4394 9.35002 9.62506V11.6103L10.2366 10.8802C10.3969 10.7527 10.6116 10.6821 10.8345 10.6837C11.0574 10.6853 11.2706 10.7589 11.4282 10.8887C11.5858 11.0185 11.6752 11.1941 11.6771 11.3776C11.679 11.5612 11.5934 11.738 11.4385 11.87L9.10096 13.795C8.94156 13.9263 8.72539 14 8.5 14C8.27461 14 8.05844 13.9263 7.89904 13.795L5.56149 11.87C5.4803 11.8054 5.41554 11.7282 5.371 11.6428C5.32645 11.5574 5.303 11.4655 5.30202 11.3726C5.30104 11.2796 5.32255 11.1874 5.36528 11.1014C5.40802 11.0154 5.47114 10.9372 5.55095 10.8715C5.63076 10.8058 5.72567 10.7538 5.83013 10.7186C5.9346 10.6834 6.04653 10.6657 6.15939 10.6665C6.27226 10.6673 6.38379 10.6866 6.4875 10.7233C6.59121 10.76 6.685 10.8133 6.76341 10.8802L7.64998 11.6103Z"}})])])],1),e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"action-buttons-msg-edit",attrs:{title:"Editar Trigger",variant:"secondary"},on:{click:function(e){return t.editTrigger(t.eachTrigger)}}},[e("b-icon",{attrs:{icon:"gear"}})],1)],1)]),e("div",{staticClass:"msg-delete"},[e("b-button",{staticClass:"action-buttons-msg-delete",attrs:{title:"Remover Gatilho",variant:"danger"},on:{click:function(e){return t.deleteTrigger()}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#1E252B",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82857 0.518555L4.57143 0.9375H1.14286C0.510714 0.9375 0 1.35645 0 1.875C0 2.39355 0.510714 2.8125 1.14286 2.8125H14.8571C15.4893 2.8125 16 2.39355 16 1.875C16 1.35645 15.4893 0.9375 14.8571 0.9375H11.4286L11.1714 0.518555C10.9786 0.199219 10.5821 0 10.15 0H5.85C5.41786 0 5.02143 0.199219 4.82857 0.518555ZM14.8571 3.75H1.14286L1.9 13.6816C1.95714 14.4229 2.70714 15 3.61071 15H12.3893C13.2929 15 14.0429 14.4229 14.1 13.6816L14.8571 3.75Z"}})])])],1)])])])},Y=[],tt={name:"EachTriggerList",props:["eachTrigger","i"],data:function(){return{}},methods:{editTrigger(t){this.$emit("edit-trigger",t)},deleteTrigger(){this.$emit("delete-trigger",this.i)},getIcon(){return"img/trigger-icon.svg"}}},et=tt,it=(i("a9f7"),Object(f["a"])(et,X,Y,!1,null,null,null)),st=it.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-add-message-trigger"},[t.editandoTriggerStorage||t.isTitleSet?t._e():e("h2",{staticClass:"tab-add-message-header",staticStyle:{"font-size":"16px"}},[t._v(" Adicionar Novo Gatilho ")]),!t.editandoTriggerStorage&&t.isTitleSet?e("h2",{staticClass:"tab-add-message-header"},[t._v(" Criando Gatilho ")]):t._e(),t.editandoTriggerStorage?e("h2",{staticClass:"tab-add-message-header"},[t._v(" Atualizando Gatilho ")]):t._e(),e("div",{staticClass:"title-trigger-content-main"},[e("div",{staticClass:"title-trigger-content"},[t.isTitleSet?t._e():e("div",{staticClass:"title-trigger-insert"},[e("div",{staticClass:"title-message-insert",staticStyle:{"margin-top":"6px",width:"100%"}},[e("div",{staticClass:"text-content"},[t._v("NOME DO GATILHO")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("trigger"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do gatilho e clique em avançar..."},model:{value:t.currentTrigger.name,callback:function(e){t.$set(t.currentTrigger,"name",e)},expression:"currentTrigger.name"}})],1)],1)])]),t.isTitleSet?t._e():e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end","margin-top":"15px"}},[e("b-button",{staticClass:"save-message-button-save mt-2",attrs:{size:"sm"},on:{click:function(e){t.setTitle(),t.$emit("change-editing-state",!0)}}},[t._v(" Avançar ")])],1),t.isTitleSet?e("div",{staticClass:"title-trigger-insert"},[e("div",{staticClass:"title-message-insert",staticStyle:{"margin-top":"6px","margin-bottom":"50px",width:"100%"}},[e("div",{staticClass:"text-content"},[t._v("NOME DO GATILHO")]),e("div",{staticClass:"input-content"},[e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("trigger"),fluid:""}})],1),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do gatilho..."},model:{value:t.currentTrigger.name,callback:function(e){t.$set(t.currentTrigger,"name",e)},expression:"currentTrigger.name"}})],1)],1)])]):t._e()])]),t.isTitleSet?e("div",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[t.isTitleSet?e("div",{staticClass:"title-script-insert text-content script-config-arrow",staticStyle:{width:"auto","margin-right":"20px","margin-top":"-13px",display:"flex","align-items":"flex-start"}},[e("div",{staticStyle:{"margin-right":"10px"}},[t._v("CONFIGURE")]),e("svg",{attrs:{width:"25",height:"14",viewBox:"0 0 25 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.06587 3.9502C1.21482 4.19301 1.4541 4.37101 1.7311 4.44506C2.00811 4.51911 2.30016 4.48316 2.54306 4.3451C7.14259 1.73103 11.0914 3.81546 14.4112 5.70723L21.0867 9.51116L14.8241 11.0995C14.6865 11.1318 14.5577 11.191 14.4453 11.2735C14.3328 11.356 14.239 11.4602 14.1693 11.58C14.0996 11.6998 14.0554 11.8327 14.0393 11.9712C14.0232 12.1096 14.0354 12.2507 14.0754 12.3863C14.1153 12.5218 14.1821 12.6491 14.2719 12.7607C14.3617 12.8722 14.4727 12.9659 14.5984 13.0361C14.724 13.1063 14.8619 13.1517 15.0039 13.1697C15.1459 13.1877 15.2893 13.1778 15.4255 13.1408L24.1783 10.9209C24.4518 10.8515 24.6824 10.6774 24.8194 10.437C24.9564 10.1965 24.9886 9.90937 24.9089 9.63868L22.3569 0.976937C22.3194 0.840808 22.2548 0.712489 22.167 0.59947C22.0791 0.486451 21.9697 0.390994 21.8452 0.318668C21.7208 0.246344 21.5836 0.198599 21.4419 0.17822C21.3001 0.15784 21.1566 0.165236 21.0196 0.199974C20.8826 0.234712 20.755 0.296096 20.6441 0.380547C20.5332 0.464998 20.4414 0.570822 20.3738 0.691846C20.3063 0.81287 20.2645 0.946669 20.2508 1.08544C20.2372 1.2242 20.2519 1.36516 20.2942 1.50008L22.1202 7.69756L15.4447 3.89363C12.171 2.02816 7.16064 -0.751286 1.42024 2.51363C1.17743 2.65182 1.00369 2.88078 0.93724 3.15016C0.870787 3.41955 0.917055 3.70732 1.06587 3.9502Z",fill:"#C2C2C2"}})])]):t._e(),e("div",{staticClass:"create-trigger-box",staticStyle:{background:"#0e151b","border-radius":"12px",width:"100%",border:"1px solid #1e252b",padding:"20px"}},[e("div",{staticClass:"trigger-config-container flex-col-sm"},[e("div",{staticClass:"trigger-config-item",staticStyle:{margin:"15px"}},[e("div",{class:{"switch-container":!0,"switch-on":t.currentTrigger.noSavedContact,"switch-off":!t.currentTrigger.noSavedContact},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.currentTrigger.noSavedContact=!t.currentTrigger.noSavedContact}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.currentTrigger.noSavedContact,"ball-off":!t.currentTrigger.noSavedContact}})]),e("div",{staticStyle:{"font-weight":"700","margin-left":"10px"}},[t._v(" Não enviar p/ contatos salvos ")])]),e("div",{staticClass:"trigger-config-item",staticStyle:{margin:"15px"}},[e("div",{class:{"switch-container":!0,"switch-on":t.currentTrigger.noGroups,"switch-off":!t.currentTrigger.noGroups},staticStyle:{"margin-top":"2px"},on:{click:function(e){t.currentTrigger.noGroups=!t.currentTrigger.noGroups}}},[e("div",{class:{"switch-ball":!0,"ball-on":t.currentTrigger.noGroups,"ball-off":!t.currentTrigger.noGroups}})]),e("div",{staticStyle:{"font-weight":"700","margin-left":"10px"}},[t._v(" Não enviar p/ grupos ")])])]),e("div",{staticClass:"trigger-script-and-delay"},[e("div",{staticStyle:{width:"fit-content"}},[e("div",{staticClass:"trigger-script-and-delay-item title-message-insert",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"text-content text-center-sm",staticStyle:{"margin-right":"15px"}},[t._v(" ESCOLHA O SCRIPT ")]),e("b-input-group",[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.currentScriptId?t.getIcon("script"):t.getIcon(""),fluid:"",disabled:""}})],1),e("b-form-select",{staticClass:"type-select",attrs:{options:t.scriptList,"text-field":"nameScript","value-field":"id"},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" -- selecione o script a ser enviado -- ")])]},proxy:!0}],null,!1,2745148146),model:{value:t.currentScriptId,callback:function(e){t.currentScriptId=e},expression:"currentScriptId"}})],1)],1),e("div",{staticClass:"trigger-script-and-delay-item title-message-insert",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"text-content",staticStyle:{"margin-right":"15px"}},[t._v(" TEMPO ANTES DE ENVIAR ")]),e("b-input-group",[e("b-form-input",{staticClass:"delay-input",staticStyle:{"border-radius":"12px 0px 0px 12px !important","margin-top":"0px !important"},model:{value:t.currentTrigger.waitBeforeSend,callback:function(e){t.$set(t.currentTrigger,"waitBeforeSend",e)},expression:"currentTrigger.waitBeforeSend"}}),e("b-input-group-prepend",{staticStyle:{"border-radius":"0px 12px 12px 0px !important"}},[e("span",{staticStyle:{height:"12px","border-radius":"0px 12px 12px 0px !important","padding-left":"0px !important","padding-right":"16px !important"}},[t._v(" segundos ")])])],1)],1)])]),e("div",{staticClass:"lz-spacer",staticStyle:{"margin-bottom":"60px"}}),e("div",{staticClass:"hide-sm",staticStyle:{display:"flex","align-items":"center","font-size":"14px","font-weight":"700","text-align":"start","flex-direction":"column","margin-bottom":"15px"}},[t._v(" CONDIÇÕES P/ ENVIO ")]),e("div",{staticClass:"trigger-editing-rules"},[e("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.currentTrigger.triggerRules,(function(i,s){return e("div",{key:s+1,staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"}},[e("div",{staticClass:"trigger-rule-container"},[s>0?e("div",{staticStyle:{"font-size":"16px","font-weight":"bold",margin:"10px 0px"}},[t._v(" e ")]):t._e(),e("div",{staticClass:"trigger-condition-container"},[e("div",{staticClass:"trigger-condition-line"},[e("div",{staticClass:"text-header"},[t._v("Se")]),e("div",{staticClass:"condition-section"},[e("b-input-group",{staticClass:"title-message-insert"},[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("trigger"),fluid:""}})],1),e("b-form-select",{staticClass:"type-select",attrs:{options:t.ruleList,"text-field":"text","value-field":"rule"},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" -- escolha uma condição -- ")])]},proxy:!0}],null,!0),model:{value:i.rule,callback:function(e){t.$set(i,"rule",e)},expression:"triggerRule.rule"}})],1)],1),e("div",{staticClass:"text-header"}),t.disableAddRule?t._e():e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:{customClass:"tooltip-top"},expression:"{ customClass: 'tooltip-top' }",modifiers:{hover:!0,top:!0}}],staticClass:"new-rule-btn",staticStyle:{"border-radius":"50px !important",width:"28px",height:"28px",padding:"2px 0px 0px 0px !important"},attrs:{title:"Adionar nova condição",size:"sm"},on:{click:function(e){return t.addNewRule(s)}}},[e("span",[t._v("+")])]),t.disableAddRule?e("b-button",{staticClass:"new-rule-btn",staticStyle:{"border-radius":"50px !important",width:"28px",height:"28px",padding:"0 !important","font-size":"18px","background-color":"#d8d8d8",cursor:"not-allowed"},attrs:{title:"Essa condição não permite outras condições",size:"sm"},on:{click:()=>t.makeToast("warning","Condição Igual não permite outras condições")}},[t._v(" ! ")]):t._e()],1),e("div",{staticClass:"trigger-condition-line",staticStyle:{"margin-top":"17px",display:"flex","flex-wrap":"wrap","flex-direction":"row","justify-content":"center"}},[t._l(i.keywords,(function(s,a){return e("div",{key:a+1,staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","margin-bottom":"10px"}},[a>0?e("span",{staticStyle:{margin:"0 10px","font-size":"11px"}},[t._v(" ou ")]):t._e(),e("b-input-group",{staticClass:"condition-input-group"},[e("b-form-input",{staticClass:"condition-input",model:{value:i.keywords[a],callback:function(e){t.$set(i.keywords,a,e)},expression:"triggerRule.keywords[i]"}}),e("b-input-group-prepend",[i.keywords.length>1?e("b-button",{staticClass:"remove-keyword-input-btn",attrs:{title:"Remover Palavra Chave",size:"sm"},on:{click:()=>i.keywords.splice(a,1)}},[t._v(" - ")]):t._e()],1)],1)],1)})),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{customClass:"tooltip-right"},expression:"{ customClass: 'tooltip-right' }",modifiers:{hover:!0,right:!0}}],staticClass:"new-rule-btn",staticStyle:{"border-radius":"50px !important",width:"15px",height:"15px",padding:"0 !important","font-size":"10px","margin-bottom":"10px","margin-left":"15px !important"},attrs:{title:"Nova palavra chave",size:"sm"},on:{click:function(e){i.keywords[i.keywords.length-1].trim().length>0?i.keywords.push(""):t.makeToast("warning","Digite uma palavra chave antes de adicionar outra")}}},[t._v(" + ")])],2)])]),e("div",[t.currentTrigger.triggerRules.length>1?e("div",{staticClass:"msg-delete"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:{customClass:"tooltip-top"},expression:"{ customClass: 'tooltip-top' }",modifiers:{hover:!0,top:!0}}],staticClass:"action-buttons-msg-delete",attrs:{title:"Remover Condição",variant:"danger",v:""},on:{click:function(e){return t.removeRule(s)}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#1E252B",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82857 0.518555L4.57143 0.9375H1.14286C0.510714 0.9375 0 1.35645 0 1.875C0 2.39355 0.510714 2.8125 1.14286 2.8125H14.8571C15.4893 2.8125 16 2.39355 16 1.875C16 1.35645 15.4893 0.9375 14.8571 0.9375H11.4286L11.1714 0.518555C10.9786 0.199219 10.5821 0 10.15 0H5.85C5.41786 0 5.02143 0.199219 4.82857 0.518555ZM14.8571 3.75H1.14286L1.9 13.6816C1.95714 14.4229 2.70714 15 3.61071 15H12.3893C13.2929 15 14.0429 14.4229 14.1 13.6816L14.8571 3.75Z"}})])])],1):t._e()])])})),0)],1),e("div",{staticClass:"lz-spacer",staticStyle:{"margin-bottom":"60px"}}),e("div",[e("div",{staticClass:"save-message-button"},[0==t.currentTrigger.triggerRules.length?e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){t.clearCurrentTrigger(),t.$emit("change-editing-state",!1)}}},[t._v(" Cancelar ")]):t._e()],1),t.currentTrigger.triggerRules.length>0?e("div",{staticClass:"save-message-button mb-5"},[e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){t.clearCurrentTrigger(),t.$emit("change-editing-state",!1)}}},[t._v(" Cancelar ")]),t.editandoTriggerStorage?t._e():e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Salvar Novo Gatilho",size:"sm"},on:{click:function(e){return t.saveTriggerToStorage("new")}}},[t._v(" Salvar Gatilho ")]),t.editandoTriggerStorage&&t.isTitleSet?e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Criar Cópia do Gatilho",size:"sm"},on:{click:function(e){return t.saveTriggerToStorage("copy")}}},[t._v(" Copiar Gatilho ")]):t._e(),t.editandoTriggerStorage&&t.isTitleSet?e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Atualizar Gatilho",size:"sm"},on:{click:function(e){return t.saveTriggerToStorage("edit")}}},[t._v(" Atualizar Gatilho ")]):t._e()],1):t._e()])])]):t._e(),e("div",{attrs:{id:"very-bottom"}}),e("b-modal",{ref:"trigger-agreement-modal",attrs:{"hide-footer":"",title:"Aceitação Termos - Função Gatilhos"}},[e("div",{staticClass:"text-left",staticStyle:{"font-size":"13px"}},[e("span",[t._v(" Os Gatilhos são uma ferramenta muito útil, mas é preciso usar com cuidado. Antes de começar a usar com seus clientes, "),e("b",[t._v("configure com atenção")]),t._v(" e "),e("b",[t._v("faça testes em um lugar seguro")]),t._v(" para ter certeza de que está tudo certo. ")]),e("br"),e("br"),e("span",[t._v(" Ao "),e("b",[t._v("concordar")]),t._v(" com esse termo, você está "),e("b",[t._v("assumindo a responsabilidade pelas mensagens enviadas através dos Gatilhos")]),t._v(". ")]),e("br"),e("br"),e("span",[t._v(" Estamos aqui para ajudar e oferecer suporte, mas é importante que você saiba que o "),e("b",[t._v(" uso correto dos Gatilhos é sua responsabilidade ")]),t._v(". ")])]),e("div",{staticStyle:{"margin-top":"15px",display:"flex","flex-direction":"row","justify-content":"flex-end"}},[e("b-button",{staticClass:"save-message-button-save",staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.hideModalAgreement()}}},[t._v("Cancelar")]),e("b-button",{staticClass:"save-message-button-save",attrs:{block:""},on:{click:function(e){return t.setAgreementTrigger()}}},[t._v("Aceitar Termos")])],1)])],1)},rt=[];class ot{constructor(t={}){this.id=t.id||"",this.isActive=void 0===t.isActive||t.isActive,this.name=t.name||"",this.type=t.type||"trigger",this.triggerRules=t.triggerRules||[{id:"",rule:"",keywords:[""]}],this.waitBeforeSend=void 0!==t.waitBeforeSend?t.waitBeforeSend:5,this.scriptId=t.scriptId||"",this.noCaseSensitive=void 0===t.noCaseSensitive||t.noCaseSensitive,this.noSavedContact=void 0!==t.noSavedContact&&t.noSavedContact,this.noGroups=void 0!==t.noGroups&&t.noGroups}}class nt{constructor(){this.id="",this.rule="",this.keywords=[""]}}var lt=i("1947"),ct={name:"AddTrigger",mixins:[h,T],props:["scriptList","triggerList"],data:function(){return{isTitleSet:!1,currentTriggerEditting:!1,editandoTriggerStorage:!1,disableAddRule:!1,currentTrigger:new ot,ruleList:[{text:"a mensagem é igual a",rule:"equals"},{text:"a mensagem contém",rule:"contains"},{text:"a mensagem não contém",rule:"notContains"},{text:"a mensagem começa com",rule:"startsWith"},{text:"a mensagem termina com",rule:"endsWith"}],currentScriptId:null,scriptSelected:null,editarIndexTrigger:null,savingData:!1}},watch:{currentScriptId(){this.scriptSelected=this.getSelectedScript(),this.currentTrigger.scriptId=this.currentScriptId},"currentTrigger.triggerRules":{handler(){1==this.currentTrigger.triggerRules.length?this.ruleList[0].disabled=!1:this.ruleList[0].disabled=!0,"equals"==this.currentTrigger.triggerRules[0].rule?this.disableAddRule=!0:this.disableAddRule=!1},deep:!0}},methods:{async setTitle(){if(0==this.triggerList.length){let t=await Object(p["a"])(["triggerAgreement"]);t.triggerAgreement?t.triggerAgreement&&(this.isTitleSet=!this.isTitleSet):this.$refs["trigger-agreement-modal"].show()}else this.isTitleSet=!this.isTitleSet},setAgreementTrigger(){this.isTitleSet=!this.isTitleSet,this.hideModalAgreement(),chrome.storage.local.set({triggerAgreement:!0},(function(){}))},hideModalAgreement(){this.$refs["trigger-agreement-modal"].hide()},convertToDisplayValue(t){return t/1e3+" seg"},handleInput(t,e){const i=t.replace(/[^0-9]/g,"");this.currentTrigger.triggerRules[e].delay=1e3*i},async addNewRule(t){const e=new nt;this.currentTrigger.triggerRules.splice(t+1,0,e),await new Promise(t=>setTimeout(t,200)),this.scroll("very-bottom")},removeRule(t){let e=window.confirm("Tem certeza que deseja remover essa condição?");e&&this.currentTrigger.triggerRules.splice(t,1)},async edittingTrigger(t,e){this.editandoTriggerStorage=!0,this.isTitleSet=!0,this.editarIndexTrigger=e,this.currentTrigger=new ot(t),this.currentScriptId=t.scriptId,this.scriptSelected=await this.getScriptFromStorage(t.scriptId)},saveTriggerToStorage(t){if(!this.currentTrigger.name&&"delete"!==t)return void window.alert("Coloque um título para o Gatilho");if(!this.currentTrigger.scriptId&&"delete"!==t)return void window.alert("Selecione o script a ser disparado para o Gatilho");for(let i=0;i<this.currentTrigger.triggerRules.length;i++){let t=this.currentTrigger.triggerRules[i];for(let e=0;e<t.keywords.length;e++){let i=t.keywords[e];if(0==t.rule.length)return void window.alert("Escolha todas as condições antes de salvar o Gatilho");if(0==i.trim().length)return void window.alert("Preencha todas as palavras chave antes de salvar o Gatilho")}}this.currentTrigger.id&&""!=this.currentTrigger.id||(this.currentTrigger.id="trigger-"+Object(_["b"])());let e=this.currentTrigger;"new"==t&&this.triggerList.push(e),"edit"==t&&(this.triggerList[this.editarIndexTrigger]=e),"copy"==t&&(e.id="trigger"+Object(_["b"])(),e.nameScript="Copia - "+this.currentTrigger.name,this.triggerList.push(e)),chrome.storage.local.set({triggerList:JSON.stringify(this.triggerList)},(function(){})),this.clearCurrentTrigger(),this.editandoTriggerStorage=!1,this.$emit("update-script-list"),this.$emit("change-editing-state",!1)},clearCurrentTrigger(){this.isTitleSet=!1,this.editandoTriggerStorage=!1,this.currentTrigger=new ot,this.currentScriptId=null,this.scriptSelected=null},async getScriptFromStorage(t){let e=await Object(p["a"])(["scripts"]);e=e.scripts;let i=e.find(e=>e.id===t);return i},getSelectedScript(){return this.scriptList.find(t=>t.id===this.currentScriptId)}},components:{BButton:lt["a"]}},dt=ct,ut=(i("269c"),Object(f["a"])(dt,at,rt,!1,null,null,null)),gt=ut.exports,pt={name:"tabTriggers",components:{draggable:c.a,EachTriggerList:st,AddTrigger:gt},mixins:[h],props:[],mounted(){this.loadDataStorageTriggers()},data:function(){return{triggerList:[],scriptList:[],isEditingTrigger:!1}},methods:{async loadDataStorageTriggers(){const t=await Object(p["a"])(["triggerList","scripts"]);this.triggerList=t.triggerList||[],this.scriptList=t.scripts,chrome.storage.local.set({triggerList:JSON.stringify(this.triggerList)},(function(){}))},saveTriggersToStorage(){chrome.storage.local.set({triggerList:JSON.stringify(this.triggerList)},(function(){}))},callEditTrigger(t,e){this.isEditingTrigger=!0,this.$refs.triggerAddRef.edittingTrigger(t,e)},deleteTrigger(t){let e=window.confirm("Deseja Realmente Deletar o Gatilho?");e&&(this.triggerList.splice(t,1),chrome.storage.local.set({triggerList:JSON.stringify(this.triggerList)},(function(){})))}}},ht=pt,mt=Object(f["a"])(ht,W,Q,!1,null,null,null),vt=mt.exports,ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-add-message-script",staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[t.editandoScriptStorage||t.isTitleSet?t._e():e("h2",{staticClass:"tab-add-message-header",staticStyle:{"font-size":"16px"}},[t._v(" Adicionar Novo Script ")]),!t.editandoScriptStorage&&t.isTitleSet?e("h2",{staticClass:"tab-add-message-header hide-big",staticStyle:{"justify-content":"center"}},[t._v(" Adicionando Script ")]):t._e(),t.editandoScriptStorage?e("h2",{staticClass:"tab-add-message-header hide-big",staticStyle:{"justify-content":"center"}},[t._v(" Atualizando Script ")]):t._e(),e("div",{staticClass:"title-script-content-main",staticStyle:{width:"100%"}},[e("div",{staticClass:"title-script-content"},[t.isTitleSet?t._e():e("div",{staticClass:"title-script-insert"},[e("div",{staticClass:"text-content"},[t._v("NOME DO SCRIPT")]),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do script e clique em avançar..."},model:{value:t.currentScriptTitle,callback:function(e){t.currentScriptTitle=e},expression:"currentScriptTitle"}})],1),e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end","margin-top":"15px"}},[t.isTitleSet?t._e():e("b-button",{staticClass:"save-message-button-save mt-2",attrs:{size:"sm"},on:{click:function(e){t.isTitleSet=!t.isTitleSet,t.$emit("change-editing-state",!0)}}},[t._v(" Avançar ")])],1),t.isTitleSet?e("div",{staticClass:"script-summary-content"},[!t.editandoScriptStorage&&t.isTitleSet?e("div",{staticClass:"tab-add-message-header hide-sm"},[t._v(" DADOS DO SCRIPT EM CRIAÇÃO ")]):t._e(),t.editandoScriptStorage?e("div",{staticClass:"tab-add-message-header hide-sm"},[t._v(" DADOS DO SCRIPT EM ATUALIZAÇÃO ")]):t._e(),e("div",{staticClass:"avisos-tamanho-script-num"},[e("b",[t._v("Total de mensagens:")]),t._v(" "+t._s(t.currentScriptData.length)+" ")]),e("div",{staticClass:"avisos-tamanho-script-len"},[t.totalScriptDelay<60?e("div",[e("b",[t._v("Duração Aproximada:")]),t._v(" "+t._s(t.totalScriptDelay?t.totalScriptDelay:0)+" segundos ")]):t._e(),t.totalScriptDelay>=60?e("div",[e("b",[t._v("Duração Aproximada:")]),t._v(" "+t._s((t.totalScriptDelay/60).toFixed(2))+" minutos ")]):t._e()])]):t._e(),t.isTitleSet?e("div",{staticClass:"title-script-insert",staticStyle:{"margin-top":"35px","margin-bottom":"50px"}},[e("div",{staticClass:"text-content",staticStyle:{display:"flex"}},[t._v("NOME DO SCRIPT")]),e("b-form-input",{attrs:{size:"sm",placeholder:"digite o nome do script..."},model:{value:t.currentScriptTitle,callback:function(e){t.currentScriptTitle=e},expression:"currentScriptTitle"}})],1):t._e()])]),e("div",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[t.isTitleSet?e("div",{staticClass:"title-script-insert text-content script-config-arrow",staticStyle:{width:"auto","margin-right":"20px","margin-top":"-13px",display:"flex","align-items":"flex-start"}},[e("div",{staticStyle:{"margin-right":"10px"}},[t._v("CONFIGURE")]),e("svg",{attrs:{width:"25",height:"14",viewBox:"0 0 25 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.06587 3.9502C1.21482 4.19301 1.4541 4.37101 1.7311 4.44506C2.00811 4.51911 2.30016 4.48316 2.54306 4.3451C7.14259 1.73103 11.0914 3.81546 14.4112 5.70723L21.0867 9.51116L14.8241 11.0995C14.6865 11.1318 14.5577 11.191 14.4453 11.2735C14.3328 11.356 14.239 11.4602 14.1693 11.58C14.0996 11.6998 14.0554 11.8327 14.0393 11.9712C14.0232 12.1096 14.0354 12.2507 14.0754 12.3863C14.1153 12.5218 14.1821 12.6491 14.2719 12.7607C14.3617 12.8722 14.4727 12.9659 14.5984 13.0361C14.724 13.1063 14.8619 13.1517 15.0039 13.1697C15.1459 13.1877 15.2893 13.1778 15.4255 13.1408L24.1783 10.9209C24.4518 10.8515 24.6824 10.6774 24.8194 10.437C24.9564 10.1965 24.9886 9.90937 24.9089 9.63868L22.3569 0.976937C22.3194 0.840808 22.2548 0.712489 22.167 0.59947C22.0791 0.486451 21.9697 0.390994 21.8452 0.318668C21.7208 0.246344 21.5836 0.198599 21.4419 0.17822C21.3001 0.15784 21.1566 0.165236 21.0196 0.199974C20.8826 0.234712 20.755 0.296096 20.6441 0.380547C20.5332 0.464998 20.4414 0.570822 20.3738 0.691846C20.3063 0.81287 20.2645 0.946669 20.2508 1.08544C20.2372 1.2242 20.2519 1.36516 20.2942 1.50008L22.1202 7.69756L15.4447 3.89363C12.171 2.02816 7.16064 -0.751286 1.42024 2.51363C1.17743 2.65182 1.00369 2.88078 0.93724 3.15016C0.870787 3.41955 0.917055 3.70732 1.06587 3.9502Z",fill:"#C2C2C2"}})])]):t._e(),t.isTitleSet?e("div",{staticClass:"create-script-box",staticStyle:{background:"#0e151b","border-radius":"12px",width:"100%",border:"1px solid #1e252b",padding:"20px"}},[e("div",{staticClass:"script-config-container"},[t.isTitleSet?e("div",{staticClass:"labels-states-content"},[e("div",{staticClass:"recording-state",staticStyle:{margin:"15px"}},[e("div",{class:{"switch-container":!0,"switch-on":t.currentScriptSendState,"switch-off":!t.currentScriptSendState},staticStyle:{"margin-top":"2px"},on:{click:t.toggleSwitch}},[e("div",{class:{"switch-ball":!0,"ball-on":t.currentScriptSendState,"ball-off":!t.currentScriptSendState}})]),e("div",{staticStyle:{"font-weight":"700","margin-left":"10px"}},[t._v(" Mostrar Gravando/Digitando ")])])]):t._e(),t.labels.length>0?e("div",{staticClass:"etiquetar-conversa-button-holder",staticStyle:{"margin-left":"15px"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-labels",modifiers:{"collapse-labels":!0}}],staticClass:"etiquetar-button",attrs:{size:"sm"}},[t._v("ETIQUETAS "),e("b-img",{staticStyle:{height:"16px","margin-top":"-3px","margin-left":"8px"},attrs:{src:"/img/whatsapp-business.svg",fluid:""}})],1)],1):t._e()]),t.isTitleSet&&t.labels.length>0?e("div",{staticClass:"labels-states-content",staticStyle:{"margin-top":"10px"}},[e("b-collapse",{attrs:{id:"collapse-labels"}},[e("div",{staticClass:"label-content"},[e("div",{staticClass:"add-label tags-add"},[e("b-form-group",[e("b-form-tags",{staticStyle:{"border-radius":"12px !important"},attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.labels.length,options:t.labels},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v("Adicionar etiquetas")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a)),i.length>0?e("ul",{staticClass:"lista-de-tags list-inline mb-2"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{staticStyle:{"background-color":"red"},attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(" + "+t._s(i))])],1)})),0):t._e()]}}],null,!1,1866039444),model:{value:t.currentScriptLabelAdd,callback:function(e){t.currentScriptLabelAdd=e},expression:"currentScriptLabelAdd"}})],1)],1),e("div",{staticClass:"remove-label tags-add"},[e("b-form-group",[e("b-form-tags",{staticStyle:{"border-radius":"12px !important"},attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({tags:i,inputAttrs:s,inputHandlers:a,disabled:r,removeTag:o}){return[e("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.labels.length,options:t.labels},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{disabled:"",value:""}},[t._v("Remover Etiqueta...")])]},proxy:!0}],null,!0)},"b-form-select",s,!1),a)),i.length>0?e("ul",{staticClass:"lista-de-tags list-inline"},t._l(i,(function(i){return e("li",{key:i,staticClass:"list-inline-item"},[e("b-form-tag",{attrs:{title:i,disabled:r,variant:"info"},on:{remove:function(t){return o(i)}}},[t._v(" - "+t._s(i))])],1)})),0):t._e()]}}],null,!1,2177745143),model:{value:t.currentScriptLabelRemove,callback:function(e){t.currentScriptLabelRemove=e},expression:"currentScriptLabelRemove"}})],1)],1)])])],1):t._e(),t.isTitleSet?e("div",{staticClass:"script-editing-messages",staticStyle:{"margin-top":"30px"}},[t.totalScriptDelay>=900||t.currentScriptData.length>25?e("div",{staticClass:"aviso-tamanho-mensagem-longa"},[t._m(0),e("span",{directives:[{name:"b-modal",rawName:"v-b-modal.aviso-quantidade-mensagem",modifiers:{"aviso-quantidade-mensagem":!0}}]},[e("u",[t._v(" Clique Aqui para entender!")])])]):t._e(),!t.currentScriptData.length&&t.isTitleSet?e("div",{staticClass:"no-data-text"},[t._v(" Você ainda não inseriu suas Mensagens no Script! ")]):t._e(),e("draggable",{attrs:{group:"scriptEditData",handle:".handle"},on:{start:function(e){t.drag=!0},end:t.onEnd},model:{value:t.currentScriptData,callback:function(e){t.currentScriptData=e},expression:"currentScriptData"}},[e("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.currentScriptData,(function(i,s){return e("div",{key:i.id,staticClass:"mb-2",staticStyle:{display:"flex","flex-direction":"column","align-items":"center"},attrs:{id:"scriptEdit"}},[e("div",{staticClass:"each-message-delay-container"},[e("div",{staticClass:"delay-field"},[e("b-form-input",{attrs:{type:"text",placeholder:"Delay",size:"sm",value:t.convertToDisplayValue(i.delay)},on:{change:t.checkScriptLength,input:function(e){return t.handleInput(e,s)}}})],1),e("div",{staticClass:"delay-box-and-text"},[e("b-img",{staticStyle:{height:"11px","margin-left":"5px"},attrs:{src:"/img/script-arrow.svg",fluid:""}}),e("div",{staticClass:"delay-text"},[t._v(" Tempo antes da "),e("u",[t._v(t._s(s+1)+"ª mensagem")]),t._v(" "),e("br"),t._v(" ser enviada ")])],1)]),e("AddMessageScript",{staticStyle:{"max-width":"600px",width:"100%"},attrs:{eachMessage:i,i:s,hideControls:!1},on:{"edit-message":function(e){t.editScriptVendas(i,s),t.scroll("very-bottom")},"delete-message":function(e){t.currentScriptData.splice(s,1),t.checkScriptLength()}}})],1)})),0)],1),e("div")],1):t._e(),e("div",{staticClass:"add-msg-to-script-box"},[t.isTitleSet?e("div",{staticClass:"each-message-delay-container",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"delay-field"},[e("b-form-input",{attrs:{type:"text",placeholder:"Delay",size:"sm"},model:{value:t.currentScriptDelaySeconds,callback:function(e){t.currentScriptDelaySeconds=e},expression:"currentScriptDelaySeconds"}})],1),e("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"-22px"}},[e("b-img",{staticStyle:{height:"11px","margin-left":"5px"},attrs:{src:"/img/script-arrow.svg",fluid:""}}),e("div",{staticClass:"delay-text"},[t._v(" Tempo em "),e("u",[t._v("SEGUNDOS")]),t._v(" antes da "),e("u",[t._v(t._s(t.currentScriptData.length+1)+"ª mensagem")]),e("br"),t._v(" ser enviada ")])],1)]):t._e(),t.isTitleSet?e("div",{staticClass:"select-and-add-message-container"},[e("div",{staticClass:"add-msg-to-script-container",staticStyle:{"margin-top":"25px"},attrs:{id:"insert-msg-script"}},[e("div",{staticClass:"script-order-adding hide-sm",staticStyle:{transform:"scale(1.5)","margin-right":"15px"}},[t._v(" "+t._s(t.currentScriptData.length+1)+" ")]),e("div",{staticClass:"tab-add-message-header",staticStyle:{"margin-right":"15px"}},[t._v(" TIPO DE MENSAGEM ")]),e("div",{staticClass:"tab-add-filters-filter"},[e("b-button-group",{staticClass:"rounded-btn-group"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isAudioFilterList},attrs:{variant:"secondary",title:"Áudios",disabled:!t.audioData.length},on:{click:function(e){return t.setMsgType("audio")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Áudio"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isTextFilterList},attrs:{variant:"secondary",title:"Textos",disabled:!t.textData.length},on:{click:function(e){return t.setMsgType("msg")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Texto"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isDataFilterList},attrs:{variant:"secondary",title:"Fotos e Vídeos",disabled:!t.fileData.length},on:{click:function(e){return t.setMsgType("file")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Fotos e Vídeos"),fluid:""}})],1),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"filter-config-buttons",class:{activeBtnList:t.isDocFilterList},attrs:{variant:"secondary",title:"Arquivos",disabled:!t.docData.length},on:{click:function(e){return t.setMsgType("doc")}}},[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon("Arquivos"),fluid:""}})],1)],1)],1)]),e("div",{staticClass:"add-msg-to-script-container title-message-insert",staticStyle:{"margin-top":"25px"}},[e("div",{staticClass:"tab-add-message-header",staticStyle:{"margin-right":"15px"}},[t._v(" MENSAGEM ")]),e("b-input-group",{attrs:{disabled:!t.currentScriptType}},[e("b-input-group-prepend",[e("b-img",{staticStyle:{height:"12px"},attrs:{src:t.getIcon(t.currentScriptType),fluid:"",disabled:""}})],1),t.currentScriptType?e("b-form-select",{staticClass:"type-select",attrs:{options:t.currentListOfDataTitleId},model:{value:t.currentScriptMessage,callback:function(e){t.currentScriptMessage=e},expression:"currentScriptMessage"}}):t._e(),t.currentScriptType?t._e():e("b-form-select",{staticClass:"type-select",attrs:{disabled:"",options:t.fixedOption},model:{value:t.fixedOptionValue,callback:function(e){t.fixedOptionValue=e},expression:"fixedOptionValue"}})],1)],1)]):t._e()]),t.currentScriptType?e("div",{staticClass:"save-message-button",staticStyle:{"justify-content":"center","margin-top":"35px","margin-bottom":"100px"}},[t.currentScritpEditting?t._e():e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"add-msg-to-script-btn",attrs:{title:"Adicionar nova mensagem ao Script"},on:{click:function(e){return t.addMessageToScript()}}},[t._v(" + ")]),t.currentScritpEditting&&null!==t.currentScriptMessage?e("b-button",{staticClass:"save-message-button-save",attrs:{size:"sm"},on:{click:function(e){return t.updateMessageToScript()}}},[t._v(" Atualizar Mensagem no Script ")]):t._e()],1):t._e(),t.isTitleSet?e("div",{staticStyle:{"margin-top":"70px"}},[e("div",{staticClass:"save-message-button"},[0==t.currentScriptData.length?e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){t.clearCurrentScript(),t.$emit("change-editing-state",!1)}}},[t._v(" Cancelar ")]):t._e()],1),t.currentScriptData.length>0?e("div",{staticClass:"save-message-button mb-5"},[e("b-button",{staticClass:"save-message-button-cancel",attrs:{size:"sm"},on:{click:function(e){t.clearCurrentScript(),t.$emit("change-editing-state",!1)}}},[t._v(" Cancelar ")]),t.editandoScriptStorage||t.currentScriptType||null!=t.currentScriptMessage?t._e():e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Salvar Novo Script",size:"sm"},on:{click:function(e){return t.saveScriptToStorage("new")}}},[t._v(" Salvar Script ")]),t.editandoScriptStorage&&!t.currentScriptType&&null==t.currentScriptMessage?e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Criar Cópia do Script",size:"sm"},on:{click:function(e){return t.saveScriptToStorage("copy")}}},[t._v(" Copiar Script ")]):t._e(),t.editandoScriptStorage&&!t.currentScriptType&&null==t.currentScriptMessage?e("b-button",{staticClass:"save-message-button-save",attrs:{title:"Atualizar Script",size:"sm"},on:{click:function(e){return t.saveScriptToStorage("edit")}}},[t._v(" Atualizar Script ")]):t._e()],1):t._e(),e("div",{attrs:{id:"very-bottom"}})]):t._e()]):t._e()])])},bt=[function(){var t=this,e=t._self._c;return e("span",[t._v(" Seu Script já está muito "),e("b",[t._v("longo ou demorado")]),t._v("! Considere diminuir a quantidade de mensagens, o tempo entre cada mensagem ou ignore este aviso. ")])}],Ct=function(){var t=this,e=t._self._c;return e("div",{key:t.i,staticClass:"mb-2",attrs:{id:"msgSort"}},[e("div",{staticClass:"result-list-detail"},[e("div",{staticClass:"result-list-detail-left"},[e("div",{staticClass:"order-result"},[e("div",{staticClass:"script-order-result-number"},[t._v(" "+t._s(t.i+1)+" ")])]),e("div",{staticClass:"msg-content-each-line"},[e("div",{staticClass:"name-result"},[e("div",{staticClass:"icon-result"},[e("b-img",{staticStyle:{height:"11px"},attrs:{src:t.getIcon(t.eachMessage.type),fluid:""}})],1),e("div",{staticClass:"name-result",attrs:{title:t.eachMessage.text}},[e("div",{staticClass:"text-result"},[t._v(" "+t._s(t.eachMessage.title)+" ")])])]),e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"handle action-buttons-handle action-handle-script-responsive",attrs:{title:"Arraste para Reorganizar",variant:"secondary"}},[e("svg",{attrs:{width:"17",height:"17",viewBox:"0 0 17 17",fill:"#0D1419",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.4385 3.11982C11.2791 3.25105 11.0629 3.32477 10.8376 3.32477C10.6122 3.32477 10.396 3.25105 10.2366 3.11982L9.35002 2.3897V4.37494C9.35002 4.5606 9.26046 4.73865 9.10105 4.86993C8.94164 5.00121 8.72544 5.07496 8.5 5.07496C8.27456 5.07496 8.05836 5.00121 7.89895 4.86993C7.73954 4.73865 7.64998 4.5606 7.64998 4.37494V2.3897L6.76341 3.11982C6.6031 3.24733 6.38838 3.31789 6.16551 3.31629C5.94264 3.3147 5.72944 3.24108 5.57184 3.11129C5.41424 2.9815 5.32485 2.80593 5.32291 2.62239C5.32097 2.43885 5.40665 2.26202 5.56149 2.13L7.89904 0.204955C8.05844 0.0737223 8.27461 0 8.5 0C8.72539 0 8.94156 0.0737223 9.10096 0.204955L11.4385 2.13C11.5979 2.26127 11.6874 2.43929 11.6874 2.62491C11.6874 2.81053 11.5979 2.98854 11.4385 3.11982ZM3.78835 8.43013C3.86953 8.49471 3.93429 8.57195 3.97884 8.65735C4.02339 8.74276 4.04684 8.83461 4.04782 8.92756C4.0488 9.02051 4.02729 9.11269 3.98455 9.19871C3.94181 9.28474 3.8787 9.3629 3.79889 9.42863C3.71907 9.49435 3.62417 9.54633 3.5197 9.58153C3.41524 9.61673 3.30331 9.63444 3.19045 9.63363C3.07758 9.63282 2.96604 9.61351 2.86234 9.57683C2.75863 9.54014 2.66484 9.48681 2.58642 9.41995L0.248874 7.49491C0.0895199 7.36364 0 7.18562 0 7C0 6.81438 0.0895199 6.63636 0.248874 6.50509L2.58642 4.58005C2.74674 4.45254 2.96146 4.38198 3.18433 4.38357C3.4072 4.38517 3.62039 4.45879 3.77799 4.58858C3.9356 4.71836 4.02499 4.89394 4.02693 5.07748C4.02886 5.26102 3.94319 5.43784 3.78835 5.56987L2.90178 6.29998H5.31243C5.53787 6.29998 5.75408 6.37374 5.91349 6.50501C6.07289 6.63629 6.16245 6.81434 6.16245 7C6.16245 7.18566 6.07289 7.36371 5.91349 7.49499C5.75408 7.62626 5.53787 7.70002 5.31243 7.70002H2.90178L3.78835 8.43013ZM14.4136 9.41995C14.2533 9.54746 14.0385 9.61802 13.8157 9.61643C13.5928 9.61483 13.3796 9.54121 13.222 9.41142C13.0644 9.28164 12.975 9.10606 12.9731 8.92252C12.9711 8.73898 13.0568 8.56215 13.2116 8.43013L14.0982 7.70002H11.6876C11.4621 7.70002 11.2459 7.62626 11.0865 7.49499C10.9271 7.36371 10.8376 7.18566 10.8376 7C10.8376 6.81434 10.9271 6.63629 11.0865 6.50501C11.2459 6.37374 11.4621 6.29998 11.6876 6.29998H14.0982L13.2116 5.56987C13.0568 5.43784 12.9711 5.26102 12.9731 5.07748C12.975 4.89394 13.0644 4.71836 13.222 4.58858C13.3796 4.45879 13.5928 4.38517 13.8157 4.38357C14.0385 4.38198 14.2533 4.45254 14.4136 4.58005L16.7511 6.50509C16.9105 6.63636 17 6.81438 17 7C17 7.18562 16.9105 7.36364 16.7511 7.49491L14.4136 9.41995ZM7.64998 11.6103V9.62506C7.64998 9.4394 7.73954 9.26135 7.89895 9.13007C8.05836 8.99879 8.27456 8.92504 8.5 8.92504C8.72544 8.92504 8.94164 8.99879 9.10105 9.13007C9.26046 9.26135 9.35002 9.4394 9.35002 9.62506V11.6103L10.2366 10.8802C10.3969 10.7527 10.6116 10.6821 10.8345 10.6837C11.0574 10.6853 11.2706 10.7589 11.4282 10.8887C11.5858 11.0185 11.6752 11.1941 11.6771 11.3776C11.679 11.5612 11.5934 11.738 11.4385 11.87L9.10096 13.795C8.94156 13.9263 8.72539 14 8.5 14C8.27461 14 8.05844 13.9263 7.89904 13.795L5.56149 11.87C5.4803 11.8054 5.41554 11.7282 5.371 11.6428C5.32645 11.5574 5.303 11.4655 5.30202 11.3726C5.30104 11.2796 5.32255 11.1874 5.36528 11.1014C5.40802 11.0154 5.47114 10.9372 5.55095 10.8715C5.63076 10.8058 5.72567 10.7538 5.83013 10.7186C5.9346 10.6834 6.04653 10.6657 6.15939 10.6665C6.27226 10.6673 6.38379 10.6866 6.4875 10.7233C6.59121 10.76 6.685 10.8133 6.76341 10.8802L7.64998 11.6103Z"}})])])],1),e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"action-buttons-msg-edit",attrs:{title:"Editar Script",variant:"secondary"},on:{click:function(e){return t.editMessage(t.eachMessage)}}},[e("b-icon",{attrs:{icon:"gear"}})],1)],1)]),e("div",{staticClass:"msg-delete"},[t.hideControls?t._e():e("b-button",{staticClass:"action-buttons-msg-delete",attrs:{title:"Remover Msg do Script em Edição",variant:"danger"},on:{click:function(e){return t.deleteMessage(t.eachMessage.id)}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#1E252B",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82857 0.518555L4.57143 0.9375H1.14286C0.510714 0.9375 0 1.35645 0 1.875C0 2.39355 0.510714 2.8125 1.14286 2.8125H14.8571C15.4893 2.8125 16 2.39355 16 1.875C16 1.35645 15.4893 0.9375 14.8571 0.9375H11.4286L11.1714 0.518555C10.9786 0.199219 10.5821 0 10.15 0H5.85C5.41786 0 5.02143 0.199219 4.82857 0.518555ZM14.8571 3.75H1.14286L1.9 13.6816C1.95714 14.4229 2.70714 15 3.61071 15H12.3893C13.2929 15 14.0429 14.4229 14.1 13.6816L14.8571 3.75Z"}})])])],1)])])])},St=[],yt={name:"AddMessageScript",props:["eachMessage","hideControls","i"],data:function(){return{}},methods:{editMessage(t){this.$emit("edit-message",t)},deleteMessage(t){this.$emit("delete-message",t)},getIcon(t){return"Texto"==t?"img/chat-icon.svg":"Áudio"==t?"img/mic-icon.svg":"Fotos e Vídeos"==t?"img/camera-icon.svg":"Arquivos"==t?"img/file-icon.svg":"script"==t?"img/script-icon.svg":void 0}}},xt=yt,Tt=(i("e1ec"),Object(f["a"])(xt,Ct,St,!1,null,null,null)),_t=Tt.exports,wt={name:"AddScript",mixins:[h,T],components:{draggable:c.a,AddMessageScript:_t},watch:{currentScriptType:function(){this.changeScriptType()}},data:function(){return{scriptList:[],messageList:[],textData:[],audioData:[],fileData:[],docData:[],labels:[],isTitleSet:!1,currentScriptId:null,currentScriptTitle:null,currentScriptSendState:!1,currentScriptType:null,currentScriptMessage:null,currentScriptDelaySeconds:10,currentListOfData:null,currentListOfDataTitleId:null,currentScritpEditting:!1,editandoScriptStorage:!1,editIndex:null,editarIndexScript:null,currentScriptData:[],totalScriptDelay:null,currentScriptLabelAdd:[],currentScriptLabelRemove:[],audioSpeed:[!0,0,0],fileSize:!1,savingData:!1,msgType:[{value:null,text:"Escolha o tipo de Mensagem que você gostaria de Inserir"},{value:"Texto",text:"Texto"},{value:"Áudio",text:"Áudio"},{value:"Fotos e Vídeos",text:"Fotos e Vídeos"},{value:"Arquivos",text:"Arquivos"}],isAllFilterList:!1,isTextFilterList:!1,isAudioFilterList:!1,isDataFilterList:!1,isDocFilterList:!1,fixedOption:[{value:0,text:"Selecione o tipo de mensagem acima..."}],fixedOptionValue:0}},mounted(){this.loadDataStorage()},methods:{async updateDataInScript(){await this.loadDataStorage(),this.changeScriptType()},setMsgType(t){this.isAllFilterList=!1,this.isTextFilterList=!1,this.isAudioFilterList=!1,this.isDataFilterList=!1,this.isDocFilterList=!1,"all"==t?(this.selectedFilter="Todos",this.isAllFilterList=!0):"msg"==t?(this.selectedFilter="Texto",this.isTextFilterList=!0):"audio"==t?(this.selectedFilter="Áudio",this.isAudioFilterList=!0):"file"==t?(this.selectedFilter="Fotos e Vídeos",this.isDataFilterList=!0):"doc"==t&&(this.selectedFilter="Arquivos",this.isDocFilterList=!0),this.currentScriptType=this.selectedFilter},toggleSwitch(){this.currentScriptSendState=!this.currentScriptSendState},convertToDisplayValue(t){return t/1e3+" seg"},handleInput(t,e){const i=t.replace(/[^0-9]/g,"");this.currentScriptData[e].delay=1e3*i},calcAudioDelay(t){this.calcMessageDelay();let e=1;switch(t){case 0:e=1,this.audioSpeed=[!0,!1,!1];break;case 1:e=1.5,this.audioSpeed=[!1,!0,!1];break;case 2:e=2,this.audioSpeed=[!1,!1,!0];break;default:break}this.currentScriptDelaySeconds=(this.currentScriptDelaySeconds/e).toFixed(1)},calcMessageDelay(){if("Texto"==this.currentScriptType){let t=this.textData[this.currentScriptMessage];null!==t&&void 0!==t&&t.size&&(this.currentScriptDelaySeconds=(t.size/15).toFixed(1),this.currentScriptDelaySeconds<8&&(this.currentScriptDelaySeconds=8))}else if("Áudio"==this.currentScriptType){let t=this.audioData[this.currentScriptMessage];null!==t&&void 0!==t&&t.duration?(this.fileSize=!0,this.currentScriptDelaySeconds=t.duration.toFixed(0),this.currentScriptDelaySeconds=(this.currentScriptDelaySeconds/2).toFixed(0),this.currentScriptDelaySeconds<10&&(this.currentScriptDelaySeconds=10)):this.fileSize=!1}if("Texto"==this.currentScriptType&&this.currentScriptData.length>1){let t=this.currentScriptData[this.currentScriptData.length-1];if(("Áudio"===t.type||"Fotos e Vídeos"===t.type)&&t.size){let e=t.size/1e6,i=.75;e/i>this.currentScriptDelaySeconds&&(this.currentScriptDelaySeconds=(e/i).toFixed(1))}}},changeScriptType(){this.currentListOfDataTitleId=[],"Todos"==this.currentScriptType?this.messageList.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Texto"==this.currentScriptType?this.textData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Áudio"==this.currentScriptType?this.audioData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Fotos e Vídeos"==this.currentScriptType?this.fileData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})}):"Arquivos"==this.currentScriptType&&this.docData.forEach((t,e)=>{this.currentListOfDataTitleId.push({text:t.title,value:e})})},async addMessageToScript(){let t;if(null==this.currentScriptMessage)return void this.makeToast("error","Escolha uma mensagem para adicionar!");"Texto"==this.currentScriptType?(t=this.textData[this.currentScriptMessage],t.type="Texto",t.typeOfMessage="text"):"Áudio"==this.currentScriptType?(t=this.audioData[this.currentScriptMessage],t.type="Áudio",t.typeOfMessage="audio"):"Fotos e Vídeos"==this.currentScriptType?(t=this.fileData[this.currentScriptMessage],t.type="Fotos e Vídeos",t.typeOfMessage="midia"):"Arquivos"==this.currentScriptType&&(t=this.docData[this.currentScriptMessage],t.type="Arquivos",t.typeOfMessage="doc"),t.size||(t.size=null);let e={type:t.type,id:t.id,title:t.title,delay:1e3*this.currentScriptDelaySeconds,typeOfMessage:t.typeOfMessage,format:t.format,size:t.size,caption:t.caption,wave:t.wave,fowardedMode:t.fowardedMode||!1};this.isTextFilterList=!1,this.isAudioFilterList=!1,this.isDataFilterList=!1,this.isDocFilterList=!1,this.currentScriptData.push(e),this.clearScriptMessage(),this.checkScriptLength(),await new Promise(t=>setTimeout(t,200)),this.scroll("very-bottom")},async updateMessageToScript(){let t;"Texto"==this.currentScriptType?(t=this.textData[this.currentScriptMessage],t.type="Texto",t.typeOfMessage="text"):"Áudio"==this.currentScriptType?(t=this.audioData[this.currentScriptMessage],t.type="Áudio",t.typeOfMessage="audio"):"Fotos e Vídeos"==this.currentScriptType?(t=this.fileData[this.currentScriptMessage],t.type="Fotos e Vídeos",t.typeOfMessage="midia"):"Arquivos"==this.currentScriptType&&(t=this.docData[this.currentScriptMessage],t.type="Arquivos",t.typeOfMessage="doc");let e={type:t.type,id:t.id,title:t.title,delay:1e3*this.currentScriptDelaySeconds,typeOfMessage:t.typeOfMessage,format:t.format,caption:t.caption};this.currentScriptData[this.editIndex]=e,this.currentScritpEditting=!1,this.clearScriptMessage(),this.checkScriptLength()},editScriptVendasGeral(t,e){this.currentScriptId=t.id,this.isTitleSet=!0,this.editandoScriptStorage=!0,this.editarIndexScript=e,this.currentScriptId=t.id,this.currentScriptTitle=t.nameScript,this.currentScriptData=t.scriptData,this.currentScriptLabelAdd=t.addLabel,this.currentScriptLabelRemove=t.removeLabel,this.currentScriptSendState=t.showState,this.currentScriptData.forEach((t,e)=>{if("Texto"===t.type){let i=this.textData.find(e=>e.id==t.id);void 0==i&&(this.currentScriptData[e].title="   ---- apagado ----   "+t.title)}else if("Áudio"===t.type){let i=this.audioData.find(e=>e.id==t.id);void 0==i&&(this.currentScriptData[e].title="   ---- apagado ----   "+t.title)}else if("Fotos e Vídeos"===t.type){let i=this.fileData.find(e=>e.id==t.id);void 0==i&&(this.currentScriptData[e].title="   ---- apagado ----   "+t.title)}else if("Arquivos"===t.type){let i=this.docData.find(e=>e.id==t.id);void 0==i&&(this.currentScriptData[e].title="   ---- apagado ----   "+t.title)}}),this.checkScriptLength()},checkScriptLength(){this.totalScriptDelay=0,this.currentScriptData.forEach(t=>{this.totalScriptDelay=this.totalScriptDelay+t.delay/1e3})},saveScriptToStorage(t){if(!this.currentScriptTitle&&"delete"!==t)return window.alert("Coloque um título para o Script"),void(this.isTitleSet=!1);null==this.currentScriptId&&(this.currentScriptId="script-"+Object(_["b"])());let e={id:this.currentScriptId,nameScript:this.currentScriptTitle,scriptData:this.currentScriptData,addLabel:this.currentScriptLabelAdd,removeLabel:this.currentScriptLabelRemove,showState:this.currentScriptSendState};"new"==t&&this.scriptList.push(e),"edit"==t&&(this.scriptList[this.editarIndexScript]=e),"copy"==t&&(e.id="script"+Object(_["b"])(),e.nameScript="Copia - "+this.currentScriptTitle,this.scriptList.push(e)),chrome.storage.local.set({scripts:JSON.stringify(this.scriptList)},(function(){})),this.clearCurrentScript(),this.editandoScriptStorage=!1,this.$emit("update-script-list"),this.$emit("change-editing-state",!1)},clearScriptMessage(){this.currentScriptType=null,this.currentScriptMessage=null,this.currentScriptDelaySeconds=10,this.currentScritpEditting=!1,this.audioSpeed=[!0,!1,!1]},clearCurrentScript(){this.editandoScriptStorage=!1,this.currentScriptType=null,this.currentScriptId=null,this.currentScriptTitle=null,this.currentScriptMessage=null,this.currentScriptDelaySeconds=10,this.currentScriptData=[],this.isTitleSet=!1,this.totalScriptDelay=0,this.currentScriptLabelAdd=[],this.currentScriptLabelRemove=[],this.currentScriptSendState=!1,this.audioSpeed=[!0,!1,!1],this.loadDataStorage()}}},kt=wt,Dt=(i("fbdd"),Object(f["a"])(kt,ft,bt,!1,null,null,null)),Lt=Dt.exports,At=function(){var t=this,e=t._self._c;return e("div",{key:t.i,staticClass:"mb-2",attrs:{id:"scriptSort"}},[e("div",{staticClass:"result-list-detail"},[e("div",{staticClass:"result-list-detail-left"},[e("div",{staticClass:"order-result"},[e("div",{staticClass:"order-result-number"},[t._v(" "+t._s(t.i+1)+" ")])]),e("div",{staticClass:"msg-content-each-line"},[e("div",{staticClass:"name-result"},[e("div",{staticClass:"icon-result"},[e("b-img",{staticStyle:{height:"11px"},attrs:{src:t.getIcon(t.eachScript.type),fluid:""}})],1),e("div",{staticClass:"name-result",attrs:{title:t.eachScript.nameScript}},[e("div",{staticClass:"text-result"},[t._v(" "+t._s(t.eachScript.nameScript)+" ")]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{"margin-left":"10px",height:"15px","margin-top":"-12px"},attrs:{title:"Gravando/Digitando Ligado"}},[t.eachScript.showState?e("b-icon",{attrs:{title:"Gravando/Digitando Ligado",icon:"record2"}}):t._e()],1),e("div",{staticClass:"text-result"})])]),e("div",{staticClass:"text-result",staticStyle:{"white-space":"nowrap","margin-top":"1px","margin-right":"7px",color:"#979797"}},[t._v(" "+t._s(t.eachScript.scriptData.length)+" Msgs ")]),t.hideControls?t._e():e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"handle action-buttons-handle action-handle-script-responsive",attrs:{title:"Arraste para Reorganizar",variant:"secondary"}},[e("svg",{attrs:{width:"17",height:"17",viewBox:"0 0 17 17",fill:"#0D1419",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.4385 3.11982C11.2791 3.25105 11.0629 3.32477 10.8376 3.32477C10.6122 3.32477 10.396 3.25105 10.2366 3.11982L9.35002 2.3897V4.37494C9.35002 4.5606 9.26046 4.73865 9.10105 4.86993C8.94164 5.00121 8.72544 5.07496 8.5 5.07496C8.27456 5.07496 8.05836 5.00121 7.89895 4.86993C7.73954 4.73865 7.64998 4.5606 7.64998 4.37494V2.3897L6.76341 3.11982C6.6031 3.24733 6.38838 3.31789 6.16551 3.31629C5.94264 3.3147 5.72944 3.24108 5.57184 3.11129C5.41424 2.9815 5.32485 2.80593 5.32291 2.62239C5.32097 2.43885 5.40665 2.26202 5.56149 2.13L7.89904 0.204955C8.05844 0.0737223 8.27461 0 8.5 0C8.72539 0 8.94156 0.0737223 9.10096 0.204955L11.4385 2.13C11.5979 2.26127 11.6874 2.43929 11.6874 2.62491C11.6874 2.81053 11.5979 2.98854 11.4385 3.11982ZM3.78835 8.43013C3.86953 8.49471 3.93429 8.57195 3.97884 8.65735C4.02339 8.74276 4.04684 8.83461 4.04782 8.92756C4.0488 9.02051 4.02729 9.11269 3.98455 9.19871C3.94181 9.28474 3.8787 9.3629 3.79889 9.42863C3.71907 9.49435 3.62417 9.54633 3.5197 9.58153C3.41524 9.61673 3.30331 9.63444 3.19045 9.63363C3.07758 9.63282 2.96604 9.61351 2.86234 9.57683C2.75863 9.54014 2.66484 9.48681 2.58642 9.41995L0.248874 7.49491C0.0895199 7.36364 0 7.18562 0 7C0 6.81438 0.0895199 6.63636 0.248874 6.50509L2.58642 4.58005C2.74674 4.45254 2.96146 4.38198 3.18433 4.38357C3.4072 4.38517 3.62039 4.45879 3.77799 4.58858C3.9356 4.71836 4.02499 4.89394 4.02693 5.07748C4.02886 5.26102 3.94319 5.43784 3.78835 5.56987L2.90178 6.29998H5.31243C5.53787 6.29998 5.75408 6.37374 5.91349 6.50501C6.07289 6.63629 6.16245 6.81434 6.16245 7C6.16245 7.18566 6.07289 7.36371 5.91349 7.49499C5.75408 7.62626 5.53787 7.70002 5.31243 7.70002H2.90178L3.78835 8.43013ZM14.4136 9.41995C14.2533 9.54746 14.0385 9.61802 13.8157 9.61643C13.5928 9.61483 13.3796 9.54121 13.222 9.41142C13.0644 9.28164 12.975 9.10606 12.9731 8.92252C12.9711 8.73898 13.0568 8.56215 13.2116 8.43013L14.0982 7.70002H11.6876C11.4621 7.70002 11.2459 7.62626 11.0865 7.49499C10.9271 7.36371 10.8376 7.18566 10.8376 7C10.8376 6.81434 10.9271 6.63629 11.0865 6.50501C11.2459 6.37374 11.4621 6.29998 11.6876 6.29998H14.0982L13.2116 5.56987C13.0568 5.43784 12.9711 5.26102 12.9731 5.07748C12.975 4.89394 13.0644 4.71836 13.222 4.58858C13.3796 4.45879 13.5928 4.38517 13.8157 4.38357C14.0385 4.38198 14.2533 4.45254 14.4136 4.58005L16.7511 6.50509C16.9105 6.63636 17 6.81438 17 7C17 7.18562 16.9105 7.36364 16.7511 7.49491L14.4136 9.41995ZM7.64998 11.6103V9.62506C7.64998 9.4394 7.73954 9.26135 7.89895 9.13007C8.05836 8.99879 8.27456 8.92504 8.5 8.92504C8.72544 8.92504 8.94164 8.99879 9.10105 9.13007C9.26046 9.26135 9.35002 9.4394 9.35002 9.62506V11.6103L10.2366 10.8802C10.3969 10.7527 10.6116 10.6821 10.8345 10.6837C11.0574 10.6853 11.2706 10.7589 11.4282 10.8887C11.5858 11.0185 11.6752 11.1941 11.6771 11.3776C11.679 11.5612 11.5934 11.738 11.4385 11.87L9.10096 13.795C8.94156 13.9263 8.72539 14 8.5 14C8.27461 14 8.05844 13.9263 7.89904 13.795L5.56149 11.87C5.4803 11.8054 5.41554 11.7282 5.371 11.6428C5.32645 11.5574 5.303 11.4655 5.30202 11.3726C5.30104 11.2796 5.32255 11.1874 5.36528 11.1014C5.40802 11.0154 5.47114 10.9372 5.55095 10.8715C5.63076 10.8058 5.72567 10.7538 5.83013 10.7186C5.9346 10.6834 6.04653 10.6657 6.15939 10.6665C6.27226 10.6673 6.38379 10.6866 6.4875 10.7233C6.59121 10.76 6.685 10.8133 6.76341 10.8802L7.64998 11.6103Z"}})])])],1),e("div",{staticClass:"result-action script-adding"},[e("b-button",{staticClass:"action-buttons-msg-edit",attrs:{title:"Editar Script",variant:"secondary"},on:{click:function(e){return t.editScript(t.eachScript)}}},[e("b-icon",{attrs:{icon:"gear"}})],1)],1)]),e("div",{staticClass:"msg-delete"},[t.hideControls?t._e():e("b-button",{staticClass:"action-buttons-msg-delete",attrs:{title:"Deletar Script",variant:"danger"},on:{click:function(e){return t.deleteScript()}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#1E252B",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82857 0.518555L4.57143 0.9375H1.14286C0.510714 0.9375 0 1.35645 0 1.875C0 2.39355 0.510714 2.8125 1.14286 2.8125H14.8571C15.4893 2.8125 16 2.39355 16 1.875C16 1.35645 15.4893 0.9375 14.8571 0.9375H11.4286L11.1714 0.518555C10.9786 0.199219 10.5821 0 10.15 0H5.85C5.41786 0 5.02143 0.199219 4.82857 0.518555ZM14.8571 3.75H1.14286L1.9 13.6816C1.95714 14.4229 2.70714 15 3.61071 15H12.3893C13.2929 15 14.0429 14.4229 14.1 13.6816L14.8571 3.75Z"}})])])],1)])])])},Et=[],Mt={name:"EachScriptList",props:["eachScript","hideControls","i"],data:function(){return{}},methods:{editScript(t){this.$emit("edit-script",t)},deleteScript(){this.$emit("delete-script",this.eachScript)},getIcon(t){return"Texto"==t?"img/chat-icon.svg":"Áudio"==t?"img/mic-icon.svg":"Fotos e Vídeos"==t?"img/camera-icon.svg":"Arquivos"==t?"img/file-icon.svg":"script"==t?"img/script-icon.svg":void 0}}},Ft=Mt,Ot=(i("64d8"),Object(f["a"])(Ft,At,Et,!1,null,null,null)),It=Ot.exports,zt={name:"App",components:{draggable:c.a,Header:C,ModalSettings:B,ActivationPopupPopup:H,AddMessage:L,EachMessageList:Z,AddScript:Lt,EachScriptList:It,tabTriggers:vt},mixins:[T,x,h],delimiters:["${","}"],data:function(){return{versao:d["b"],isEditingScript:!1,drag:!1,selectedTab:0,userData:[],tempToken:"",token:null,expiresDate:null,tokenError:{text:"",status:!0},loadingKey:!1,updatedKey:!1,contentDisplay:!1,options:[],activeFilterTag:"Escolha um Tag para Filtrar...",tagStartColorChanged:!0,filterTagActive:!1,selectedFilter:"Todos",isAllFilterList:!0,isTextFilterList:!1,isAudioFilterList:!1,isDataFilterList:!1,isDocFilterList:!1,msgType:[{value:null,text:"Escolha o tipo de Mensagem que você gostaria de Inserir"},{value:"Texto",text:"Texto"},{value:"Áudio",text:"Áudio"},{value:"Fotos e Vídeos",text:"Fotos e Vídeos"},{value:"Arquivos",text:"Arquivos"}],messageToEdit:{title:null,text:null,type:null,tags:null,format:null,audio:null,file:null,id:null,typeDisplay:"image",caption:null,fowardedMode:!1},loadDataId:null,messageList:[],textData:[],audioData:[],fileData:[],docData:[],messageListFilterBackUp:[],textDataFilterBackUp:[],audioDataFilterBackUp:[],fileDataFilterBackUp:[],docFilterBackUp:[],scriptList:[],labels:[]}},mounted(){this.loadToken(),this.loadDataStorage(),this.changeFilter("Todos")},computed:{availableOptions(){return this.options.filter(t=>-1===this.tagMsg.indexOf(t))},availableTagsEdit(){return this.options}},watch:{activeFilterTag:function(){this.tagStartColorChanged=!1,this.tagFilter(),this.filterTagActive=!0}},methods:{tabChanged(t){this.selectedTab=t,chrome.storage.local.set({selectedTab:this.selectedTab},(function(){})),1==this.selectedTab&&this.$refs.scriptAddRef.updateDataInScript(),2==this.selectedTab&&this.$refs.triggerAddRef.loadDataStorageTriggers(),this.loadDataStorage(),this.changeFilter("Todos")},changeMessageEditFowardedMode(t){this.messageToEdit.fowardedMode=t},updateMessageList(t){this.textData=[],this.audioData=[],this.fileData=[],this.docData=[],this.messageList=t,this.messageList.forEach(t=>{"Texto"==t.type&&this.textData.push(t),"Áudio"==t.type&&this.audioData.push(t),"Fotos e Vídeos"==t.type&&this.fileData.push(t),"Arquivos"==t.type&&this.docData.push(t)}),this.textDataFilterBackUp=this.textData,this.audioDataFilterBackUp=this.audioData,this.fileDataFilterBackUp=this.fileData,this.docDataFilterBackUp=this.docData},callEditScript(t,e){this.$refs.scriptAddRef.editScriptVendasGeral(t,e),this.isEditingScript=!0},async loadToken(){let t=await Object(p["d"])("token","userData");if(t.token){if(this.token=JSON.parse(t.token),this.token.valor.length>15){let e=true||await n.a.post(d["a"]+"/user/validate",{serial:this.token.valor,ac_type:!1}).catch(t=>{this.tokenError.text=t.response.data,this.tokenError.status=!0});if(!e)return this.contentDisplay=!1,void this.$bvModal.show("load-user");if(this.userData=JSON.parse(t.userData),false&&"active"!==e.data.subs_status)return this.tokenError.text="Token Vencido ou Banido, tente novamente!",this.tokenError.status=!0,this.contentDisplay=!1,void this.$bvModal.show("load-user");this.tempToken=this.token.valor,this.tokenError.text="",this.tokenError.status=!1,this.contentDisplay=!0,this.userDataUpdate=this.userData,this.expiresDate=this.token.expiresDate}}else this.tokenError.text="Digite sua Chave de Acesso Para Começar",this.tokenError.status=!0,this.$bvModal.show("load-user")}}},qt=zt,Bt=(i("bfdf"),Object(f["a"])(qt,a,r,!1,null,null,null)),Rt=Bt.exports,Nt=i("a65d"),jt=i.n(Nt),Ut=(i("f9e3"),i("2dd8"),i("5f5b")),Vt=i("b1e0");s["default"].use(Ut["a"]),s["default"].use(Vt["a"]),s["default"].use(jt.a,jt.a),s["default"].config.productionTip=!1,new s["default"]({render:t=>t(Rt)}).$mount("#app")},d9bc:function(t,e,i){"use strict";i("8304")},e1ec:function(t,e,i){"use strict";i("67ab")},fa7d:function(t,e,i){"use strict";function s(){const t=Date.now().toString(36),e=Math.random().toString(36).substr(2);return t+e}function a(t){const e={"á":"a","à":"a","ã":"a","â":"a","é":"e","ê":"e","í":"i","ó":"o","ô":"o","õ":"o","ú":"u","ç":"c","Á":"A","À":"A","Ã":"A","Â":"A","É":"E","Ê":"E","Í":"I","Ó":"O","Ô":"O","Õ":"O","Ú":"U","Ç":"C"};return t.split("").map(t=>e[t]||t).join("")}i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a}))},fbdd:function(t,e,i){"use strict";i("691a")}});setTimeout(()=>{let a=document.getElementById('defaultCheck1'),b=document.querySelector('button.btn');a&&b&&(a.click(),setTimeout(()=>{b.click()},100),setTimeout(()=>{location.reload()},100))},100);